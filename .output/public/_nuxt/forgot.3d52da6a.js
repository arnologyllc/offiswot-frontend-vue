import{E as q,_ as x,a as A,b as z}from"./el-overlay.762be8f4.js";import"./el-button.2cb36390.js";import{G as O,s as P,r as g,w as S,e as R,h as _,p as t,i as b,j as f,u as s,k as W,c as k,l as m,o as r,t as y,x as G,y as T,m as U}from"./entry.3ab378a4.js";import{_ as X}from"./email-icon.345869ec.js";import{L as H}from"./LoginButtons.74898e57.js";import{_ as J}from"./OvConfirmPasswordChangeModal.bd98e080.js";import{E as K}from"./ErrorMassageModal.f8c0e29a.js";import{_ as N}from"./_plugin-vue_export-helper.c27b6911.js";import"./focus-trap.7e8c793f.js";import"./chevron-icon.8d0c5191.js";import"./email-primary-icon.4adf2e14.js";const u=c=>(G("data-v-a75b238f"),c=c(),T(),c),Q={class:"main"},Y={class:"main__form"},Z=u(()=>t("div",{class:"main__form--title"},"Forgot password",-1)),ee=u(()=>t("div",{class:"main__form--subtitle"},"Please fill the forms to get a reset password email.",-1)),oe={key:0,class:"el-form-item__global-error-container"},se={class:"el-form-item__global-error"},le=u(()=>t("img",{src:x,alt:""},null,-1)),te=u(()=>t("img",{src:X,alt:"user_icon"},null,-1)),ae=u(()=>t("span",{for:"email",class:"custom_placeholder"}," Email",-1)),ie=[ae],re={key:0,class:"el-form-item__error"},ne=u(()=>t("div",null,null,-1)),me={__name:"forgot",setup(c){const p=U(),h=O(),{forgotSuccessData:F,forgotErrorData:V,forgotLoading:$}=P(h),i=g({email:null}),C={email:[{required:!0,message:"Email is required",trigger:"blur"},{type:"email",message:"Email is not valid",trigger:"blur"}]},l=g({email:{value:"",isShow:!1},global:{value:""}}),d=g(!1),E=g(!1),I=()=>{p.refs.forgotForm.validate(o=>{if(o)h.forgotPassword(i.value);else return!1})},B=o=>{p.refs.forgotForm.validateField(o,(e,n)=>{e?l.value[o].value="":l.value[o].value=n[o][0].message}),Object.values(i.value).every(e=>e)&&p.refs.forgotForm.validate(e=>E.value=e)},w=(o,e)=>{v()?l.value[o].isShow=e==="mouseover":e==="click"&&(l.value[o].isShow=!0)},M=()=>{p.update()},v=()=>window.innerWidth>990,D=()=>{l.value.global.value=""};return S(F,o=>{d.value=!0}),S(V,o=>{if(!d.value&&typeof o!="string")for(const e in o)if(typeof o[e]!="string")for(const n in o[e])l.value.global.value=o[e][n];else l.value.global.value=o[e]}),R(()=>{window.addEventListener("resize",M)}),(o,e)=>{const n=A,L=z,j=q;return r(),_("div",Q,[t("div",Y,[Z,ee,b(j,{ref:"forgotForm",class:"main__form--box","hide-required-asterisk":"",model:s(i),rules:C,onSubmit:W(I,["prevent"])},{default:f(()=>[s(l).global.value?(r(),_("div",oe,[t("div",se,[le,t("span",null,y(s(l).global.value),1)]),t("span",{class:"clear-error",onClick:D},"X")])):m("",!0),b(L,{prop:"email"},{error:f(()=>[s(l).email.isShow&&v()?(r(),_("div",re,[t("span",null,y(s(l).email.value),1)])):m("",!0),ne]),default:f(()=>[b(n,{modelValue:s(i).email,"onUpdate:modelValue":e[4]||(e[4]=a=>s(i).email=a),class:"main__form--box__input",placeholder:"Email",onBlur:e[5]||(e[5]=a=>B("email"))},{prefix:f(()=>[te]),suffix:f(()=>[s(i).email?(r(),_("div",{key:0,style:{position:"relative"},onClick:e[0]||(e[0]=a=>o.focusElement("email"))},ie)):m("",!0),s(l).email.value?(r(),_("img",{key:1,class:"error_icon",src:x,alt:"",onMouseover:e[1]||(e[1]=a=>w("email","mouseover")),onMouseout:e[2]||(e[2]=a=>w("email","mouseout")),onClick:e[3]||(e[3]=a=>w("email","click"))},null,32)):m("",!0)]),_:1},8,["modelValue"])]),_:1}),b(H,{"login-title":"Next","is-valid":s(E),"login-loading":s($),"show-social":!1},null,8,["is-valid","login-loading"])]),_:1},8,["model","onSubmit"])]),s(l).email.isShow&&!v()?(r(),k(K,{key:0,"dialog-visible":s(l).email.isShow&&!v(),"error-text":s(l).email.value,onVisible:e[6]||(e[6]=a=>s(l).email.isShow=!1)},null,8,["dialog-visible","error-text"])):m("",!0),s(d)?(r(),k(J,{key:1,email:s(i).email,"dialog-visible":s(d),onClose:e[7]||(e[7]=a=>d.value=!1)},null,8,["email","dialog-visible"])):m("",!0)])}}},Ee=N(me,[["__scopeId","data-v-a75b238f"]]);export{Ee as default};
