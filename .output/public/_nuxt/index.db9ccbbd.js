import{b as G,E as L,s as F,r as c,w as R,o as r,c as P,k as a,u as t,i as y,l as e,j as i,q as k,m,y as M,z as U,v as Z,e as ee,f as te,h as oe,x as B}from"./entry.dabfc507.js";import{_ as se}from"./chevron-left.f66d90eb.js";import{E as O}from"./index.9ce43428.js";import{E as z}from"./focus-trap.04464a06.js";import{E as K,a as j,b as H}from"./error.3564d58a.js";import{h as J,s as Q}from"./eye-close-icon.eaa88d21.js";import{_ as Y}from"./_plugin-vue_export-helper.c27b6911.js";import{E as le}from"./index.f11c27d2.js";import{C as ne}from"./AccessCheckModal.b359da57.js";import ie from"./loginToken.49eb9ed7.js";import ae from"./settingsToken.812dd4cb.js";import ce from"./auth.0edab5ad.js";import"./isEqual.5d82a5a0.js";import"./flatten.1b9012b9.js";import"./email-primary-icon.1455806e.js";const de=""+new URL("remove.71691837.svg",import.meta.url).href,S=""+new URL("delete.496cebb1.svg",import.meta.url).href,C=s=>(M("data-v-c3cf993f"),s=s(),U(),s),re={key:0},ue={class:"dialog-footer"},_e=C(()=>e("div",{class:"dialog-footer-icon"},[e("img",{src:de,alt:"deactivate-profile"})],-1)),pe=C(()=>e("div",{class:"dialog-footer-question"},[e("div",null,"Are you sure you want to"),e("div",{class:"warning"},"deactivate"),e("div",null,"your account?")],-1)),me=C(()=>e("div",{class:"dialog-footer-title"},[e("h4",null," Deactivating your account will disable your profile and will remove your name and photo from all workspaces. "),e("div",{class:"dialog-footer-subtitle"},[e("p",null,[k(" You can reactivate your profile in login page by trying to login with your current email or username within 3 months after deactivation. After that the account will be permanently deleted. Check account "),e("span",null," deactivation and account deletion policy.")])])],-1)),ve={key:1,class:"dialog__pin"},fe=C(()=>e("div",{class:"dialog__pin-icon"},[e("img",{src:S,alt:"delete-profile"})],-1)),ge=C(()=>e("h4",null,"Please Enter your PIN.",-1)),he=["src"],be=C(()=>e("h5",null,"Press OKAY to delete your account.",-1)),ye={__name:"DeactivateModal",props:{dialogVisible:{type:Boolean,required:!1}},setup(s){const h=s,u=G(),_=L(),{deactivateFailureData:f,deactivateProfileData:g}=F(_),o=c(0);c({checked1:!1,checked2:!1});const l=c({pin:null}),w=c({pin:[{required:!0,message:"This field is required.",trigger:"blur"}]}),V=c(!1);R(f,x=>{}),R(g,x=>{u.emit("visible"),setTimeout(()=>{o.value=0},200)});const E=()=>{_.deactivateProfile(l.value)},N=()=>{o.value+=1};return(x,d)=>{const n=O,I=z,D=K,T=j,A=H;return r(),P(A,{modelValue:h.dialogVisible,"onUpdate:modelValue":d[2]||(d[2]=b=>h.dialogVisible=b),title:t(o)>2?null:"Deactivate account",width:"30%","align-center":"",class:"dialog",onClose:d[3]||(d[3]=b=>t(u).emit("visible"))},{footer:a(()=>[t(o)===0?(r(),y("span",re,[e("div",ue,[_e,pe,me,i(n,{type:"danger",class:"dialog-footer-button",plain:"",onClick:N},{default:a(()=>[k("I AGREE")]),_:1})])])):m("",!0),t(o)===1?(r(),y("span",ve,[fe,i(T,{class:"dialog__form",rules:t(w)},{default:a(()=>[ge,i(D,{prop:"pin"},{default:a(()=>[i(I,{ref:"pin",modelValue:t(l).pin,"onUpdate:modelValue":d[1]||(d[1]=b=>t(l).pin=b),class:"dialog__form--box__input",placeholder:"PIN",type:t(V)?"text":"password"},{suffix:a(()=>[e("img",{src:t(V)?t(J):t(Q),alt:"eye_icon",onClick:d[0]||(d[0]=b=>V.value=!t(V))},null,8,he)]),_:1},8,["modelValue","type"])]),_:1}),be,i(n,{type:"danger",class:"dialog__pin-button",plain:"",onClick:E},{default:a(()=>[k(" I AGREE ")]),_:1})]),_:1},8,["rules"])])):m("",!0)]),_:1},8,["modelValue","title"])}}},ke=Y(ye,[["__scopeId","data-v-c3cf993f"]]),q=""+new URL("active.ff1496c8.svg",import.meta.url).href,$e=""+new URL("confirm-icon.2f842ff2.svg",import.meta.url).href,v=s=>(M("data-v-5f60ec04"),s=s(),U(),s),we={key:0},Ve={class:"content"},Ee=v(()=>e("div",{class:"content__icon"},[e("img",{src:S,alt:"delete-profile"})],-1)),Ie=v(()=>e("div",{class:"content__question question"},[e("div",null,"Are you sure you want to"),e("div",{class:"warning"},"permanently delete"),e("div",null,"your account?")],-1)),Ce=v(()=>e("div",{class:"content__body"},[e("div",{class:"content__body-title"}," This can not be undone. By deleting this account you agree that: "),e("div",{class:"content__body-subtitle"},[e("img",{src:q,alt:"active"}),e("p",null," No one will be able to use this username ever, including yourself. ")]),e("div",{class:"content__body-subtitle"},[e("img",{src:q,alt:"active"}),e("p",null," All of your workspaces will be permanently deleted, including chats, files and other data. ")]),e("div",{class:"content__body-subtitle"},[e("img",{src:q,alt:"active"}),e("p",null," You will be removed from the workspaces that you have been member of. It will be unrecoverable. ")])],-1)),xe={key:1},Pe={class:"content"},De=v(()=>e("div",{class:"content__icon"},[e("img",{src:S,alt:"delete-profile"})],-1)),Re=v(()=>e("div",{class:"content__question question"}," Please choose why you want to delete you ",-1)),Se={class:"content__body"},Ne={class:"content__body-checkboxes"},Te={key:2,class:"dialog__pin"},Ae=v(()=>e("div",{class:"dialog__pin-icon"},[e("img",{src:S,alt:"delete-profile"})],-1)),qe=v(()=>e("h4",null,"Please Enter your PIN.",-1)),Me=["src"],Ue=v(()=>e("h5",null,"Press OKAY to delete your account.",-1)),Ye={key:3,class:"dialog__success"},Be=v(()=>e("div",{class:"modal__content"},[e("img",{src:$e,alt:"confirm-icon"}),e("h5",null,"All done!")],-1)),Ge={__name:"DeleteModal",props:{dialogVisible:{type:Boolean,required:!1}},setup(s){const h=s,u=G(),_=L(),{deleteProfileData:f,deleteFailureData:g}=F(_),o=c(0),l=c({checked1:!1,checked2:!1}),w=c({pin:null}),V=c({pin:[{required:!0,message:"This field is required.",trigger:"blur"}]}),E=c(!1);R(g,d=>{}),R(f,d=>{u.emit("visible"),setTimeout(()=>{o.value=0},200)});const N=()=>{_.deleteProfile(w.value)},x=()=>{o.value+=1};return(d,n)=>{const I=O,D=le,T=z,A=K,b=j,X=H;return r(),P(X,{modelValue:h.dialogVisible,"onUpdate:modelValue":n[4]||(n[4]=p=>h.dialogVisible=p),title:t(o)>2?null:"Delete account",width:"30%","align-center":"",onClose:n[5]||(n[5]=p=>t(u).emit("visible"))},{footer:a(()=>[t(o)===0?(r(),y("span",we,[e("div",Ve,[Ee,Ie,Ce,i(I,{type:"danger",class:"btn content__button",plain:"",onClick:x},{default:a(()=>[k("I AGREE")]),_:1})])])):m("",!0),t(o)===1?(r(),y("span",xe,[e("div",Pe,[De,Re,e("div",Se,[e("div",Ne,[i(D,{modelValue:t(l).checked1,"onUpdate:modelValue":n[0]||(n[0]=p=>t(l).checked1=p),label:"No one will be able to use this username ever, including yourself.",size:"large"},null,8,["modelValue"]),i(D,{modelValue:t(l).checked2,"onUpdate:modelValue":n[1]||(n[1]=p=>t(l).checked2=p),label:"No one will be able to use this username ever, including yourself.",size:"large"},null,8,["modelValue"])])]),i(I,{type:"danger",class:"btn content__button",plain:"",onClick:x},{default:a(()=>[k("I AGREE")]),_:1})])])):m("",!0),t(o)===2?(r(),y("span",Te,[Ae,i(b,{class:"dialog__form",rules:t(V),model:t(w),onSubmit:Z(N,["prevent"])},{default:a(()=>[qe,i(A,{prop:"pin"},{default:a(()=>[i(T,{ref:"pin",modelValue:t(w).pin,"onUpdate:modelValue":n[3]||(n[3]=p=>t(w).pin=p),class:"dialog__form--box__input",placeholder:"PIN",type:t(E)?"text":"password"},{suffix:a(()=>[e("img",{src:t(E)?t(J):t(Q),alt:"eye_icon",onClick:n[2]||(n[2]=p=>E.value=!t(E))},null,8,Me)]),_:1},8,["modelValue","type"])]),_:1}),Ue,i(I,{type:"danger",class:"dialog__pin-button btn",plain:"","native-type":"submit"},{default:a(()=>[k("I AGREE")]),_:1})]),_:1},8,["rules","model","onSubmit"])])):m("",!0),t(o)===3?(r(),y("span",Ye,[Be,i(I,{type:"danger",class:"modal__content-button",plain:"",onClick:d.closeModal},{default:a(()=>[k("OKAY")]),_:1},8,["onClick"])])):m("",!0)]),_:1},8,["modelValue","title"])}}},Le=Y(Ge,[["__scopeId","data-v-5f60ec04"]]),W=""+new URL("chevron-right.40e3c89f.svg",import.meta.url).href;const $=s=>(M("data-v-cad15085"),s=s(),U(),s),Fe={class:"container_account"},Oe={class:"account"},ze={class:"account__title"},Ke=$(()=>e("span",null,"Security",-1)),je={class:"account__body"},He=$(()=>e("div",{class:""},[e("div",{class:"reset"},"Reset password"),e("div",{class:"reset_text"}," You can change your password here. ")],-1)),Je=$(()=>e("div",null,[e("img",{src:W,alt:"chevron-right"})],-1)),Qe=[He,Je],We=$(()=>e("div",null,[e("div",{class:"reset"},"Reset PIN"),e("div",{class:"reset_text"},"You can change your PIN here.")],-1)),Xe=$(()=>e("div",null,[e("img",{src:W,alt:"chevron-right"})],-1)),Ze=[We,Xe],et=$(()=>e("div",null,[e("div",{class:"deactivate"},"Deactivate my account"),e("div",{class:"reset_text"}," You can deactivate your account up to 3 months. ")],-1)),tt=[et],ot=$(()=>e("div",{class:""},[e("div",{class:"delete"},"Delete my account"),e("div",{class:"reset_text"}," You can permanently delete you account. ")],-1)),st=[ot],lt={__name:"index",setup(s){ie(),ee();const h=te(),u=c(!1),_=c(!1),f=c(!1);return f.value=ae(),oe(()=>{ce()}),(g,o)=>(r(),y("div",null,[e("div",null,[e("div",Fe,[e("div",Oe,[e("div",null,[e("div",ze,[e("img",{src:se,alt:"chevron-left",onClick:o[0]||(o[0]=l=>t(h).go(-1))}),Ke]),e("div",je,[e("div",{class:"account__body-block",onClick:o[1]||(o[1]=l=>("navigateTo"in g?g.navigateTo:t(B))("/profile-settings/reset"))},Qe),e("div",{class:"account__body-block",onClick:o[2]||(o[2]=l=>("navigateTo"in g?g.navigateTo:t(B))("/profile-settings/update-pin"))},Ze),e("div",{class:"account__body-block",onClick:o[3]||(o[3]=l=>_.value=!0)},tt),e("div",{class:"account__body-block",onClick:o[4]||(o[4]=l=>u.value=!0)},st)])])])])]),t(_)?(r(),P(ke,{key:0,dialogVisible:t(_),onVisible:o[5]||(o[5]=l=>_.value=!1)},null,8,["dialogVisible"])):m("",!0),t(u)?(r(),P(Le,{key:1,dialogVisible:t(u),onVisible:o[6]||(o[6]=l=>u.value=!1)},null,8,["dialogVisible"])):m("",!0),t(f)?(r(),P(ne,{key:2,dialogVisible:t(f),onClose:o[7]||(o[7]=l=>f.value=!1)},null,8,["dialogVisible"])):m("",!0)]))}},yt=Y(lt,[["__scopeId","data-v-cad15085"]]);export{yt as default};
