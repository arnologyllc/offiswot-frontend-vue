import{bW as g,b$ as o,v as c}from"./entry.baf0f9e6.js";const v=g((_,p)=>{var s,l;const a=o("token");{const n=localStorage.getItem("accounts")!=="undefined"&&localStorage.getItem("accounts")!==null?(l=(s=JSON.parse(localStorage.getItem("accounts")))==null?void 0:s.map(e=>(Date.parse(e.token_expires)<new Date&&(e.token=null,e.token_expires=null,e.settings_pin_token=null),e)))==null?void 0:l.filter(e=>Date.parse(e.login_pin_token_expires)>new Date||Date.parse(e.token_expires)>new Date):[];if(localStorage.setItem("accounts",JSON.stringify(n)),!a._value){const e=o("first_login"),i=o("settings_pin_token"),u=o("login_pin_token"),r=o("currentAccountID"),t=n.findIndex(k=>k.token);n[t]?(e.value=n[t].firstToken,a.value=n[t].token,i.value=n[t].settings_pin_token,u.value=n[t].login_pin_token,r.value=0,c("/")):(e.value=null,i.value=null,u.value=null,r.value=null,c("/login"))}}});export{v as default};
