import{E as P}from"./focus-trap.04464a06.js";import{_ as k,E as j,a as A}from"./error.3564d58a.js";import{b as R,A as W,s as N,r as b,w,h as O,o as a,i as _,l as t,j as g,k as f,u as l,t as E,m as n,v as T,c as S,y as U,z as X}from"./entry.dabfc507.js";import{_ as G}from"./email-icon.ad68752d.js";import{L as H}from"./LoginButtons.a98def6d.js";import{C as J}from"./OvConfirmPasswordChangeModal.74a19316.js";import{E as K}from"./ErrorMassageModal.8c97b422.js";import{_ as Q}from"./_plugin-vue_export-helper.c27b6911.js";import"./index.9ce43428.js";import"./chevron-icon.ef3f9a72.js";import"./email-primary-icon.1455806e.js";const m=c=>(U("data-v-0927e3b3"),c=c(),X(),c),Y={class:"main"},Z={class:"main__form"},ee=m(()=>t("div",{class:"main__form--title"},"Forgot password",-1)),oe=m(()=>t("div",{class:"main__form--subtitle"}," Please fill the forms to get a reset password email. ",-1)),se={key:0,class:"el-form-item__global-error-container"},le={class:"el-form-item__global-error"},te=m(()=>t("img",{src:k,alt:""},null,-1)),re=m(()=>t("img",{src:G,alt:"user_icon"},null,-1)),ae=m(()=>t("span",{for:"email",class:"placeholder"}," Email",-1)),ie=[ae],ne={key:0,class:"el-form-item__error"},me=m(()=>t("div",null,null,-1)),ue={__name:"forgot",setup(c){const v=R(),h=W(),{forgotSuccessData:y,forgotErrorData:x,forgotLoading:V}=N(h),i=b({email:null}),C={email:[{required:!0,message:"Email is required",trigger:"blur"},{type:"email",message:"Please input correct email address",trigger:"blur"}]},s=b({email:{value:"",isShow:!1},global:{value:""}}),p=b(!1),F=()=>{v.refs.forgotForm.validate(o=>{if(o)h.forgotPassword(i.value);else return!1})},I=o=>{v.refs.forgotForm.validateField(o,(e,d)=>{e?s.value[o].value="":s.value[o].value=d[o][0].message})},$=o=>{s.value[o].isShow=!0},B=o=>{u()&&(s.value[o].isShow=!0)},M=o=>{u()&&(s.value[o].isShow=!1)},D=()=>{v.update()},u=()=>window.innerWidth>990,L=()=>{s.value.global.value=""};return w(y,o=>{p.value=!0}),w(x,o=>{if(typeof o!="string")for(const e in o)if(typeof o[e]!="string")for(const d in o[e])s.value.global.value=o[e][d];else s.value.global.value=o[e]}),O(()=>{window.addEventListener("resize",D)}),(o,e)=>{const d=P,q=j,z=A;return a(),_("div",Y,[t("div",Z,[ee,oe,g(z,{ref:"forgotForm",class:"main__form--box","hide-required-asterisk":"",model:l(i),rules:C,onSubmit:T(F,["prevent"])},{default:f(()=>[l(s).global.value?(a(),_("div",se,[t("div",le,[te,t("span",null,E(l(s).global.value),1)]),t("span",{class:"clear-error",onClick:L},"X")])):n("",!0),g(q,{prop:"email"},{error:f(()=>[l(s).email.isShow&&u()?(a(),_("div",ne,[t("span",null,E(l(s).email.value),1)])):n("",!0),me]),default:f(()=>[g(d,{modelValue:l(i).email,"onUpdate:modelValue":e[4]||(e[4]=r=>l(i).email=r),class:"main__form--box__input",placeholder:"E-mail",onBlur:e[5]||(e[5]=r=>I("email"))},{prefix:f(()=>[re]),suffix:f(()=>[l(i).email?(a(),_("div",{key:0,style:{position:"relative"},onClick:e[0]||(e[0]=r=>o.focusElement("email"))},ie)):n("",!0),l(s).email.value?(a(),_("img",{key:1,class:"error_icon",src:k,alt:"",onClick:e[1]||(e[1]=r=>$("email")),onMouseover:e[2]||(e[2]=r=>B("email")),onMouseout:e[3]||(e[3]=r=>M("email"))},null,32)):n("",!0)]),_:1},8,["modelValue"])]),_:1}),g(H,{"login-title":"Next","login-loading":l(V),"show-social":!1},null,8,["login-loading"])]),_:1},8,["model","onSubmit"])]),l(s).email.isShow&&!u()?(a(),S(K,{key:0,dialogVisible:l(s).email.isShow&&!u(),"error-text":l(s).email.value,onVisible:e[6]||(e[6]=r=>l(s).email.isShow=!1)},null,8,["dialogVisible","error-text"])):n("",!0),l(p)?(a(),S(J,{key:1,email:l(i).email,dialogVisible:l(p),onClose:e[7]||(e[7]=r=>p.value=!1)},null,8,["email","dialogVisible"])):n("",!0)])}}},Se=Q(ue,[["__scopeId","data-v-0927e3b3"]]);export{Se as default};
