import{E as A,_ as y,a as R,b as W}from"./el-overlay.4502e30f.js";import"./el-button.a99e2c6b.js";import"./el-form-item.4ed993c7.js";import{E as N,A as O,s as w,r as b,w as E,e as T,h as c,p as t,i as v,j as f,u as l,k as U,c as S,l as n,o as r,t as k,x as X,y as G,m as H}from"./entry.9bb9e3ed.js";import{_ as J}from"./email-icon.43d26858.js";import{L as K}from"./LoginButtons.c510d0f7.js";import{_ as Q}from"./OvConfirmPasswordChangeModal.87f6791f.js";import{E as Y}from"./ErrorMassageModal.e68e2825.js";import{_ as Z}from"./_plugin-vue_export-helper.c27b6911.js";import"./focus-trap.2903bedc.js";import"./chevron-icon.c4a2352b.js";import"./email-primary-icon.bf4fd981.js";const m=p=>(X("data-v-c2ae862e"),p=p(),G(),p),ee={class:"main"},oe={class:"main__form"},se=m(()=>t("div",{class:"main__form--title"},"Forgot password",-1)),le=m(()=>t("div",{class:"main__form--subtitle"},"Please fill the forms to get a reset password email.",-1)),te={key:0,class:"el-form-item__global-error-container"},ie={class:"el-form-item__global-error"},re=m(()=>t("img",{src:y,alt:""},null,-1)),ae=m(()=>t("img",{src:J,alt:"user_icon"},null,-1)),ne=m(()=>t("span",{for:"email",class:"custom_placeholder"}," Email",-1)),me=[ne],ue={key:0,class:"el-form-item__error"},_e=m(()=>t("div",null,null,-1)),de={__name:"forgot",setup(p){const g=H(),h=N(),x=O(),{forgotSuccessData:C,forgotErrorData:F,forgotLoading:$}=w(h);w(x);const a=b({email:null}),I={email:[{required:!0,message:"Email is required",trigger:"blur"},{type:"email",message:"Email is not valid",trigger:"blur"}]},s=b({email:{value:"",isShow:!1},global:{value:""}}),u=b(!1),V=()=>{g.refs.forgotForm.validate(o=>{if(o)h.forgotPassword(a.value);else return!1})},B=o=>{g.refs.forgotForm.validateField(o,(e,d)=>{e?s.value[o].value="":s.value[o].value=d[o][0].message})},M=o=>{s.value[o].isShow=!0},D=o=>{_()&&(s.value[o].isShow=!0)},L=o=>{_()&&(s.value[o].isShow=!1)},q=()=>{g.update()},_=()=>window.innerWidth>990,P=()=>{s.value.global.value=""};return E(C,o=>{u.value=!0}),E(F,o=>{if(!u.value&&typeof o!="string")for(const e in o)if(typeof o[e]!="string")for(const d in o[e])s.value.global.value=o[e][d];else s.value.global.value=o[e]}),T(()=>{window.addEventListener("resize",q)}),(o,e)=>{const d=R,j=W,z=A;return r(),c("div",ee,[t("div",oe,[se,le,v(z,{ref:"forgotForm",class:"main__form--box","hide-required-asterisk":"",model:l(a),rules:I,onSubmit:U(V,["prevent"])},{default:f(()=>[l(s).global.value?(r(),c("div",te,[t("div",ie,[re,t("span",null,k(l(s).global.value),1)]),t("span",{class:"clear-error",onClick:P},"X")])):n("",!0),v(j,{prop:"email"},{error:f(()=>[l(s).email.isShow&&_()?(r(),c("div",ue,[t("span",null,k(l(s).email.value),1)])):n("",!0),_e]),default:f(()=>[v(d,{modelValue:l(a).email,"onUpdate:modelValue":e[4]||(e[4]=i=>l(a).email=i),class:"main__form--box__input",placeholder:"E-mail",onBlur:e[5]||(e[5]=i=>B("email"))},{prefix:f(()=>[ae]),suffix:f(()=>[l(a).email?(r(),c("div",{key:0,style:{position:"relative"},onClick:e[0]||(e[0]=i=>o.focusElement("email"))},me)):n("",!0),l(s).email.value?(r(),c("img",{key:1,class:"error_icon",src:y,alt:"",onClick:e[1]||(e[1]=i=>M("email")),onMouseover:e[2]||(e[2]=i=>D("email")),onMouseout:e[3]||(e[3]=i=>L("email"))},null,32)):n("",!0)]),_:1},8,["modelValue"])]),_:1}),v(K,{"login-title":"Next","login-loading":l($),"show-social":!1},null,8,["login-loading"])]),_:1},8,["model","onSubmit"])]),l(s).email.isShow&&!_()?(r(),S(Y,{key:0,"dialog-visible":l(s).email.isShow&&!_(),"error-text":l(s).email.value,onVisible:e[6]||(e[6]=i=>l(s).email.isShow=!1)},null,8,["dialog-visible","error-text"])):n("",!0),l(u)?(r(),S(Q,{key:1,email:l(a).email,"dialog-visible":l(u),onClose:e[7]||(e[7]=i=>u.value=!1)},null,8,["email","dialog-visible"])):n("",!0)])}}},xe=Z(de,[["__scopeId","data-v-c2ae862e"]]);export{xe as default};
