import{H as O,I as M,L as S,R as Fe,U as G,o as b,f as L,A as g,u as a,m as D,N as I,P,t as X,k as C,c as B,i as R,O as Ue,ab as _,r as Y,F as Be,p as Oe,a0 as be,j as x,h as U,ac as Ae,G as De,J as Ne,ad as se,$ as le,w as ie,a2 as Ie,ae as je,M as Me,a3 as xe,af as ue,Q as ce,Y as Ve,ag as qe,Z as ze,ah as z,S as He,a4 as Ke,T as We,K as he,W as Ge,ai as Xe}from"./entry.1c65c56b.js";import{b as V,d as w,z as Je,A as ke,c as Ye,B as $e,C as we,j,_ as K,w as Ce,a as Ze,p as Z,D as Qe,F as et,G as tt,H as st,I as at,J,K as ot,L as H,M as de}from"./el-button.6d07ff3a.js";import{t as re,i as Le,u as nt,d as lt}from"./focus-trap.cf142168.js";import{m as ae}from"./el-input.7fd03793.js";import{c as rt}from"./el-overlay.64de5399.js";var it=1,ut=4;function ct(t){return rt(t,it|ut)}const dt=V({type:{type:String,default:"line",values:["line","circle","dashboard"]},percentage:{type:Number,default:0,validator:t=>t>=0&&t<=100},status:{type:String,default:"",values:["","success","exception","warning"]},indeterminate:{type:Boolean,default:!1},duration:{type:Number,default:3},strokeWidth:{type:Number,default:6},strokeLinecap:{type:w(String),default:"round"},textInside:{type:Boolean,default:!1},width:{type:Number,default:126},showText:{type:Boolean,default:!0},color:{type:w([String,Array,Function]),default:""},striped:Boolean,stripedFlow:Boolean,format:{type:w(Function),default:t=>`${t}%`}}),pt=["aria-valuenow"],ft={viewBox:"0 0 100 100"},vt=["d","stroke","stroke-width"],mt=["d","stroke","opacity","stroke-linecap","stroke-width"],gt={key:0},yt=O({name:"ElProgress"}),bt=O({...yt,props:dt,setup(t){const e=t,o={success:"#13ce66",exception:"#ff4949",warning:"#e6a23c",default:"#20a0ff"},s=M("progress"),d=S(()=>({width:`${e.percentage}%`,animationDuration:`${e.duration}s`,backgroundColor:F(e.percentage)})),i=S(()=>(e.strokeWidth/e.width*100).toFixed(1)),f=S(()=>["circle","dashboard"].includes(e.type)?Number.parseInt(`${50-Number.parseFloat(i.value)/2}`,10):0),$=S(()=>{const u=f.value,T=e.type==="dashboard";return`
          M 50 50
          m 0 ${T?"":"-"}${u}
          a ${u} ${u} 0 1 1 0 ${T?"-":""}${u*2}
          a ${u} ${u} 0 1 1 0 ${T?"":"-"}${u*2}
          `}),h=S(()=>2*Math.PI*f.value),p=S(()=>e.type==="dashboard"?.75:1),k=S(()=>`${-1*h.value*(1-p.value)/2}px`),m=S(()=>({strokeDasharray:`${h.value*p.value}px, ${h.value}px`,strokeDashoffset:k.value})),n=S(()=>({strokeDasharray:`${h.value*p.value*(e.percentage/100)}px, ${h.value}px`,strokeDashoffset:k.value,transition:"stroke-dasharray 0.6s ease 0s, stroke 0.6s ease, opacity ease 0.6s"})),r=S(()=>{let u;return e.color?u=F(e.percentage):u=o[e.status]||o.default,u}),l=S(()=>e.status==="warning"?Je:e.type==="line"?e.status==="success"?ke:Ye:e.status==="success"?$e:we),v=S(()=>e.type==="line"?12+e.strokeWidth*.4:e.width*.111111+2),y=S(()=>e.format(e.percentage));function c(u){const T=100/u.length;return u.map((E,N)=>G(E)?{color:E,percentage:(N+1)*T}:E).sort((E,N)=>E.percentage-N.percentage)}const F=u=>{var T;const{color:A}=e;if(Fe(A))return A(u);if(G(A))return A;{const E=c(A);for(const N of E)if(N.percentage>u)return N.color;return(T=E[E.length-1])==null?void 0:T.color}};return(u,T)=>(b(),L("div",{class:g([a(s).b(),a(s).m(u.type),a(s).is(u.status),{[a(s).m("without-text")]:!u.showText,[a(s).m("text-inside")]:u.textInside}]),role:"progressbar","aria-valuenow":u.percentage,"aria-valuemin":"0","aria-valuemax":"100"},[u.type==="line"?(b(),L("div",{key:0,class:g(a(s).b("bar"))},[D("div",{class:g(a(s).be("bar","outer")),style:I({height:`${u.strokeWidth}px`})},[D("div",{class:g([a(s).be("bar","inner"),{[a(s).bem("bar","inner","indeterminate")]:u.indeterminate},{[a(s).bem("bar","inner","striped")]:u.striped},{[a(s).bem("bar","inner","striped-flow")]:u.stripedFlow}]),style:I(a(d))},[(u.showText||u.$slots.default)&&u.textInside?(b(),L("div",{key:0,class:g(a(s).be("bar","innerText"))},[P(u.$slots,"default",{percentage:u.percentage},()=>[D("span",null,X(a(y)),1)])],2)):C("v-if",!0)],6)],6)],2)):(b(),L("div",{key:1,class:g(a(s).b("circle")),style:I({height:`${u.width}px`,width:`${u.width}px`})},[(b(),L("svg",ft,[D("path",{class:g(a(s).be("circle","track")),d:a($),stroke:`var(${a(s).cssVarName("fill-color-light")}, #e5e9f2)`,"stroke-width":a(i),fill:"none",style:I(a(m))},null,14,vt),D("path",{class:g(a(s).be("circle","path")),d:a($),stroke:a(r),fill:"none",opacity:u.percentage?1:0,"stroke-linecap":u.strokeLinecap,"stroke-width":a(i),style:I(a(n))},null,14,mt)]))],6)),(u.showText||u.$slots.default)&&!u.textInside?(b(),L("div",{key:2,class:g(a(s).e("text")),style:I({fontSize:`${a(v)}px`})},[P(u.$slots,"default",{percentage:u.percentage},()=>[u.status?(b(),B(a(j),{key:1},{default:R(()=>[(b(),B(Ue(a(l))))]),_:1})):(b(),L("span",gt,X(a(y)),1))])],6)):C("v-if",!0)],10,pt))}});var ht=K(bt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/progress/src/progress.vue"]]);const kt=Ce(ht),_e=Symbol("uploadContextKey"),$t="ElUpload";class wt extends Error{constructor(e,o,s,d){super(e),this.name="UploadAjaxError",this.status=o,this.method=s,this.url=d}}function pe(t,e,o){let s;return o.response?s=`${o.response.error||o.response}`:o.responseText?s=`${o.responseText}`:s=`fail to ${e.method} ${t} ${o.status}`,new wt(s,o.status,e.method,t)}function Ct(t){const e=t.responseText||t.response;if(!e)return e;try{return JSON.parse(e)}catch{return e}}const Lt=t=>{typeof XMLHttpRequest>"u"&&re($t,"XMLHttpRequest is undefined");const e=new XMLHttpRequest,o=t.action;e.upload&&e.upload.addEventListener("progress",i=>{const f=i;f.percent=i.total>0?i.loaded/i.total*100:0,t.onProgress(f)});const s=new FormData;if(t.data)for(const[i,f]of Object.entries(t.data))Array.isArray(f)?s.append(i,...f):s.append(i,f);s.append(t.filename,t.file,t.file.name),e.addEventListener("error",()=>{t.onError(pe(o,t,e))}),e.addEventListener("load",()=>{if(e.status<200||e.status>=300)return t.onError(pe(o,t,e));t.onSuccess(Ct(e))}),e.open(t.method,o,!0),t.withCredentials&&"withCredentials"in e&&(e.withCredentials=!0);const d=t.headers||{};if(d instanceof Headers)d.forEach((i,f)=>e.setRequestHeader(f,i));else for(const[i,f]of Object.entries(d))Le(f)||e.setRequestHeader(i,String(f));return e.send(s),e},Ee=["text","picture","picture-card"];let _t=1;const oe=()=>Date.now()+_t++,Se=V({action:{type:String,default:"#"},headers:{type:w(Object)},method:{type:String,default:"post"},data:{type:Object,default:()=>ae({})},multiple:{type:Boolean,default:!1},name:{type:String,default:"file"},drag:{type:Boolean,default:!1},withCredentials:Boolean,showFileList:{type:Boolean,default:!0},accept:{type:String,default:""},type:{type:String,default:"select"},fileList:{type:w(Array),default:()=>ae([])},autoUpload:{type:Boolean,default:!0},listType:{type:String,values:Ee,default:"text"},httpRequest:{type:w(Function),default:Lt},disabled:Boolean,limit:Number}),Et=V({...Se,beforeUpload:{type:w(Function),default:_},beforeRemove:{type:w(Function)},onRemove:{type:w(Function),default:_},onChange:{type:w(Function),default:_},onPreview:{type:w(Function),default:_},onSuccess:{type:w(Function),default:_},onProgress:{type:w(Function),default:_},onError:{type:w(Function),default:_},onExceed:{type:w(Function),default:_}}),St=V({files:{type:w(Array),default:()=>ae([])},disabled:{type:Boolean,default:!1},handlePreview:{type:w(Function),default:_},listType:{type:String,values:Ee,default:"text"}}),Pt={remove:t=>!!t},Rt=["onKeydown"],Tt=["src"],Ft=["onClick"],Ut=["onClick"],Bt=["onClick"],Ot=O({name:"ElUploadList"}),At=O({...Ot,props:St,emits:Pt,setup(t,{emit:e}){const{t:o}=Ze(),s=M("upload"),d=M("icon"),i=M("list"),f=Z(),$=Y(!1),h=p=>{e("remove",p)};return(p,k)=>(b(),B(Ae,{tag:"ul",class:g([a(s).b("list"),a(s).bm("list",p.listType),a(s).is("disabled",a(f))]),name:a(i).b()},{default:R(()=>[(b(!0),L(Be,null,Oe(p.files,m=>(b(),L("li",{key:m.uid||m.name,class:g([a(s).be("list","item"),a(s).is(m.status),{focusing:$.value}]),tabindex:"0",onKeydown:be(n=>!a(f)&&h(m),["delete"]),onFocus:k[0]||(k[0]=n=>$.value=!0),onBlur:k[1]||(k[1]=n=>$.value=!1),onClick:k[2]||(k[2]=n=>$.value=!1)},[P(p.$slots,"default",{file:m},()=>[p.listType==="picture"||m.status!=="uploading"&&p.listType==="picture-card"?(b(),L("img",{key:0,class:g(a(s).be("list","item-thumbnail")),src:m.url,alt:""},null,10,Tt)):C("v-if",!0),m.status==="uploading"||p.listType!=="picture-card"?(b(),L("div",{key:1,class:g(a(s).be("list","item-info"))},[D("a",{class:g(a(s).be("list","item-name")),onClick:x(n=>p.handlePreview(m),["prevent"])},[U(a(j),{class:g(a(d).m("document"))},{default:R(()=>[U(a(Qe))]),_:1},8,["class"]),D("span",{class:g(a(s).be("list","item-file-name"))},X(m.name),3)],10,Ft),m.status==="uploading"?(b(),B(a(kt),{key:0,type:p.listType==="picture-card"?"circle":"line","stroke-width":p.listType==="picture-card"?6:2,percentage:Number(m.percentage),style:I(p.listType==="picture-card"?"":"margin-top: 0.5rem")},null,8,["type","stroke-width","percentage","style"])):C("v-if",!0)],2)):C("v-if",!0),D("label",{class:g(a(s).be("list","item-status-label"))},[p.listType==="text"?(b(),B(a(j),{key:0,class:g([a(d).m("upload-success"),a(d).m("circle-check")])},{default:R(()=>[U(a(ke))]),_:1},8,["class"])):["picture-card","picture"].includes(p.listType)?(b(),B(a(j),{key:1,class:g([a(d).m("upload-success"),a(d).m("check")])},{default:R(()=>[U(a($e))]),_:1},8,["class"])):C("v-if",!0)],2),a(f)?C("v-if",!0):(b(),B(a(j),{key:2,class:g(a(d).m("close")),onClick:n=>h(m)},{default:R(()=>[U(a(we))]),_:2},1032,["class","onClick"])),C(" Due to close btn only appears when li gets focused disappears after li gets blurred, thus keyboard navigation can never reach close btn"),C(" This is a bug which needs to be fixed "),C(" TODO: Fix the incorrect navigation interaction "),a(f)?C("v-if",!0):(b(),L("i",{key:3,class:g(a(d).m("close-tip"))},X(a(o)("el.upload.deleteTip")),3)),p.listType==="picture-card"?(b(),L("span",{key:4,class:g(a(s).be("list","item-actions"))},[D("span",{class:g(a(s).be("list","item-preview")),onClick:n=>p.handlePreview(m)},[U(a(j),{class:g(a(d).m("zoom-in"))},{default:R(()=>[U(a(et))]),_:1},8,["class"])],10,Ut),a(f)?C("v-if",!0):(b(),L("span",{key:0,class:g(a(s).be("list","item-delete")),onClick:n=>h(m)},[U(a(j),{class:g(a(d).m("delete"))},{default:R(()=>[U(a(tt))]),_:1},8,["class"])],10,Bt))],2)):C("v-if",!0)])],42,Rt))),128)),P(p.$slots,"append")]),_:3},8,["class","name"]))}});var fe=K(At,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-list.vue"]]);const Dt=V({disabled:{type:Boolean,default:!1}}),Nt={file:t=>De(t)},It=["onDrop","onDragover"],Pe="ElUploadDrag",jt=O({name:Pe}),Mt=O({...jt,props:Dt,emits:Nt,setup(t,{emit:e}){const o=Ne(_e);o||re(Pe,"usage: <el-upload><el-upload-dragger /></el-upload>");const s=M("upload"),d=Y(!1),i=Z(),f=h=>{if(i.value)return;d.value=!1,h.stopPropagation();const p=Array.from(h.dataTransfer.files),k=o.accept.value;if(!k){e("file",p);return}const m=p.filter(n=>{const{type:r,name:l}=n,v=l.includes(".")?`.${l.split(".").pop()}`:"",y=r.replace(/\/.*$/,"");return k.split(",").map(c=>c.trim()).filter(c=>c).some(c=>c.startsWith(".")?v===c:/\/\*$/.test(c)?y===c.replace(/\/\*$/,""):/^[^/]+\/[^/]+$/.test(c)?r===c:!1)});e("file",m)},$=()=>{i.value||(d.value=!0)};return(h,p)=>(b(),L("div",{class:g([a(s).b("dragger"),a(s).is("dragover",d.value)]),onDrop:x(f,["prevent"]),onDragover:x($,["prevent"]),onDragleave:p[0]||(p[0]=x(k=>d.value=!1,["prevent"]))},[P(h.$slots,"default")],42,It))}});var xt=K(Mt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-dragger.vue"]]);const Vt=V({...Se,beforeUpload:{type:w(Function),default:_},onRemove:{type:w(Function),default:_},onStart:{type:w(Function),default:_},onSuccess:{type:w(Function),default:_},onProgress:{type:w(Function),default:_},onError:{type:w(Function),default:_},onExceed:{type:w(Function),default:_}}),qt=["onKeydown"],zt=["name","multiple","accept"],Ht=O({name:"ElUploadContent",inheritAttrs:!1}),Kt=O({...Ht,props:Vt,setup(t,{expose:e}){const o=t,s=M("upload"),d=Z(),i=se({}),f=se(),$=l=>{if(l.length===0)return;const{autoUpload:v,limit:y,fileList:c,multiple:F,onStart:u,onExceed:T}=o;if(y&&c.length+l.length>y){T(l,c);return}F||(l=l.slice(0,1));for(const A of l){const E=A;E.uid=oe(),u(E),v&&h(E)}},h=async l=>{if(f.value.value="",!o.beforeUpload)return p(l);let v,y={};try{const F=o.beforeUpload(l);y=le(o.data)?ct(o.data):o.data,v=await F}catch{v=!1}if(v===!1){o.onRemove(l);return}let c=l;v instanceof Blob&&(v instanceof File?c=v:c=new File([v],l.name,{type:l.type})),p(Object.assign(c,{uid:l.uid}),y)},p=(l,v)=>{const{headers:y,data:c,method:F,withCredentials:u,name:T,action:A,onProgress:E,onSuccess:N,onError:Re,httpRequest:Te}=o,{uid:Q}=l,ee={headers:y||{},withCredentials:u,file:l,data:v??c,method:F,filename:T,action:A,onProgress:q=>{E(q,l)},onSuccess:q=>{N(q,l),delete i.value[Q]},onError:q=>{Re(q,l),delete i.value[Q]}},te=Te(ee);i.value[Q]=te,te instanceof Promise&&te.then(ee.onSuccess,ee.onError)},k=l=>{const v=l.target.files;v&&$(Array.from(v))},m=()=>{d.value||(f.value.value="",f.value.click())},n=()=>{m()};return e({abort:l=>{st(i.value).filter(l?([y])=>String(l.uid)===y:()=>!0).forEach(([y,c])=>{c instanceof XMLHttpRequest&&c.abort(),delete i.value[y]})},upload:h}),(l,v)=>(b(),L("div",{class:g([a(s).b(),a(s).m(l.listType),a(s).is("drag",l.drag)]),tabindex:"0",onClick:m,onKeydown:be(x(n,["self"]),["enter","space"])},[l.drag?(b(),B(xt,{key:0,disabled:a(d),onFile:$},{default:R(()=>[P(l.$slots,"default")]),_:3},8,["disabled"])):P(l.$slots,"default",{key:1}),D("input",{ref_key:"inputRef",ref:f,class:g(a(s).e("input")),name:l.name,multiple:l.multiple,accept:l.accept,type:"file",onChange:k,onClick:v[0]||(v[0]=x(()=>{},["stop"]))},null,42,zt)],42,qt))}});var ve=K(Kt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload-content.vue"]]);const me="ElUpload",Wt=t=>{var e;(e=t.url)!=null&&e.startsWith("blob:")&&URL.revokeObjectURL(t.url)},Gt=(t,e)=>{const o=nt(t,"fileList",void 0,{passive:!0}),s=n=>o.value.find(r=>r.uid===n.uid);function d(n){var r;(r=e.value)==null||r.abort(n)}function i(n=["ready","uploading","success","fail"]){o.value=o.value.filter(r=>!n.includes(r.status))}const f=(n,r)=>{const l=s(r);l&&(console.error(n),l.status="fail",o.value.splice(o.value.indexOf(l),1),t.onError(n,l,o.value),t.onChange(l,o.value))},$=(n,r)=>{const l=s(r);l&&(t.onProgress(n,l,o.value),l.status="uploading",l.percentage=Math.round(n.percent))},h=(n,r)=>{const l=s(r);l&&(l.status="success",l.response=n,t.onSuccess(n,l,o.value),t.onChange(l,o.value))},p=n=>{Le(n.uid)&&(n.uid=oe());const r={name:n.name,percentage:0,status:"ready",size:n.size,raw:n,uid:n.uid};if(t.listType==="picture-card"||t.listType==="picture")try{r.url=URL.createObjectURL(n)}catch(l){lt(me,l.message),t.onError(l,r,o.value)}o.value=[...o.value,r],t.onChange(r,o.value)},k=async n=>{const r=n instanceof File?s(n):n;r||re(me,"file to be removed not found");const l=v=>{d(v);const y=o.value;y.splice(y.indexOf(v),1),t.onRemove(v,y),Wt(v)};t.beforeRemove?await t.beforeRemove(r,o.value)!==!1&&l(r):l(r)};function m(){o.value.filter(({status:n})=>n==="ready").forEach(({raw:n})=>{var r;return n&&((r=e.value)==null?void 0:r.upload(n))})}return ie(()=>t.listType,n=>{n!=="picture-card"&&n!=="picture"||(o.value=o.value.map(r=>{const{raw:l,url:v}=r;if(!v&&l)try{r.url=URL.createObjectURL(l)}catch(y){t.onError(y,r,o.value)}return r}))}),ie(o,n=>{for(const r of n)r.uid||(r.uid=oe()),r.status||(r.status="success")},{immediate:!0,deep:!0}),{uploadFiles:o,abort:d,clearFiles:i,handleError:f,handleProgress:$,handleStart:p,handleSuccess:h,handleRemove:k,submit:m}},Xt=O({name:"ElUpload"}),Jt=O({...Xt,props:Et,setup(t,{expose:e}){const o=t,s=Ie(),d=Z(),i=se(),{abort:f,submit:$,clearFiles:h,uploadFiles:p,handleStart:k,handleError:m,handleRemove:n,handleSuccess:r,handleProgress:l}=Gt(o,i),v=S(()=>o.listType==="picture-card"),y=S(()=>({...o,fileList:p.value,onStart:k,onProgress:l,onSuccess:r,onError:m,onRemove:n}));return je(()=>{p.value.forEach(({url:c})=>{c!=null&&c.startsWith("blob:")&&URL.revokeObjectURL(c)})}),Me(_e,{accept:xe(o,"accept")}),e({abort:f,submit:$,clearFiles:h,handleStart:k,handleRemove:n}),(c,F)=>(b(),L("div",null,[a(v)&&c.showFileList?(b(),B(fe,{key:0,disabled:a(d),"list-type":c.listType,files:a(p),"handle-preview":c.onPreview,onRemove:a(n)},ue({append:R(()=>[U(ve,ce({ref_key:"uploadRef",ref:i},a(y)),{default:R(()=>[a(s).trigger?P(c.$slots,"trigger",{key:0}):C("v-if",!0),!a(s).trigger&&a(s).default?P(c.$slots,"default",{key:1}):C("v-if",!0)]),_:3},16)]),_:2},[c.$slots.file?{name:"default",fn:R(({file:u})=>[P(c.$slots,"file",{file:u})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):C("v-if",!0),!a(v)||a(v)&&!c.showFileList?(b(),B(ve,ce({key:1,ref_key:"uploadRef",ref:i},a(y)),{default:R(()=>[a(s).trigger?P(c.$slots,"trigger",{key:0}):C("v-if",!0),!a(s).trigger&&a(s).default?P(c.$slots,"default",{key:1}):C("v-if",!0)]),_:3},16)):C("v-if",!0),c.$slots.trigger?P(c.$slots,"default",{key:2}):C("v-if",!0),P(c.$slots,"tip"),!a(v)&&c.showFileList?(b(),B(fe,{key:3,disabled:a(d),"list-type":c.listType,files:a(p),"handle-preview":c.onPreview,onRemove:a(n)},ue({_:2},[c.$slots.file?{name:"default",fn:R(({file:u})=>[P(c.$slots,"file",{file:u})])}:void 0]),1032,["disabled","list-type","files","handle-preview","onRemove"])):C("v-if",!0)]))}});var Yt=K(Jt,[["__file","/home/runner/work/element-plus/element-plus/packages/components/upload/src/upload.vue"]]);const is=Ce(Yt);function Zt(t){let e;const o=Y(!1),s=Ve({...t,originalPosition:"",originalOverflow:"",visible:!1});function d(n){s.text=n}function i(){const n=s.parent,r=m.ns;if(!n.vLoadingAddClassList){let l=n.getAttribute("loading-number");l=Number.parseInt(l)-1,l?n.setAttribute("loading-number",l.toString()):(J(n,r.bm("parent","relative")),n.removeAttribute("loading-number")),J(n,r.bm("parent","hidden"))}f(),k.unmount()}function f(){var n,r;(r=(n=m.$el)==null?void 0:n.parentNode)==null||r.removeChild(m.$el)}function $(){var n;t.beforeClose&&!t.beforeClose()||(o.value=!0,clearTimeout(e),e=window.setTimeout(h,400),s.visible=!1,(n=t.closed)==null||n.call(t))}function h(){if(!o.value)return;const n=s.parent;o.value=!1,n.vLoadingAddClassList=void 0,i()}const k=qe(O({name:"ElLoading",setup(n,{expose:r}){const{ns:l,zIndex:v}=at("loading");return r({ns:l,zIndex:v}),()=>{const y=s.spinner||s.svg,c=z("svg",{class:"circular",viewBox:s.svgViewBox?s.svgViewBox:"0 0 50 50",...y?{innerHTML:y}:{}},[z("circle",{class:"path",cx:"25",cy:"25",r:"20",fill:"none"})]),F=s.text?z("p",{class:l.b("text")},[s.text]):void 0;return z(We,{name:l.b("fade"),onAfterLeave:h},{default:R(()=>[He(U("div",{style:{backgroundColor:s.background||""},class:[l.b("mask"),s.customClass,s.fullscreen?"is-fullscreen":""]},[z("div",{class:l.b("spinner")},[c,F])]),[[Ke,s.visible]])])})}}})),m=k.mount(document.createElement("div"));return{...ze(s),setText:d,removeElLoadingChild:f,close:$,handleAfterLeave:h,vm:m,get $el(){return m.$el}}}let W;const Qt=function(t={}){if(!ot)return;const e=es(t);if(e.fullscreen&&W)return W;const o=Zt({...e,closed:()=>{var d;(d=e.closed)==null||d.call(e),e.fullscreen&&(W=void 0)}});ts(e,e.parent,o),ge(e,e.parent,o),e.parent.vLoadingAddClassList=()=>ge(e,e.parent,o);let s=e.parent.getAttribute("loading-number");return s?s=`${Number.parseInt(s)+1}`:s="1",e.parent.setAttribute("loading-number",s),e.parent.appendChild(o.$el),he(()=>o.visible.value=e.visible),e.fullscreen&&(W=o),o},es=t=>{var e,o,s,d;let i;return G(t.target)?i=(e=document.querySelector(t.target))!=null?e:document.body:i=t.target||document.body,{parent:i===document.body||t.body?document.body:i,background:t.background||"",svg:t.svg||"",svgViewBox:t.svgViewBox||"",spinner:t.spinner||!1,text:t.text||"",fullscreen:i===document.body&&((o=t.fullscreen)!=null?o:!0),lock:(s=t.lock)!=null?s:!1,customClass:t.customClass||"",visible:(d=t.visible)!=null?d:!0,target:i}},ts=async(t,e,o)=>{const{nextZIndex:s}=o.vm.zIndex,d={};if(t.fullscreen)o.originalPosition.value=H(document.body,"position"),o.originalOverflow.value=H(document.body,"overflow"),d.zIndex=s();else if(t.parent===document.body){o.originalPosition.value=H(document.body,"position"),await he();for(const i of["top","left"]){const f=i==="top"?"scrollTop":"scrollLeft";d[i]=`${t.target.getBoundingClientRect()[i]+document.body[f]+document.documentElement[f]-Number.parseInt(H(document.body,`margin-${i}`),10)}px`}for(const i of["height","width"])d[i]=`${t.target.getBoundingClientRect()[i]}px`}else o.originalPosition.value=H(e,"position");for(const[i,f]of Object.entries(d))o.$el.style[i]=f},ge=(t,e,o)=>{const s=o.vm.ns;["absolute","fixed","sticky"].includes(o.originalPosition.value)?J(e,s.bm("parent","relative")):de(e,s.bm("parent","relative")),t.fullscreen&&t.lock?de(e,s.bm("parent","hidden")):J(e,s.bm("parent","hidden"))},ne=Symbol("ElLoading"),ye=(t,e)=>{var o,s,d,i;const f=e.instance,$=n=>le(e.value)?e.value[n]:void 0,h=n=>{const r=G(n)&&(f==null?void 0:f[n])||n;return r&&Y(r)},p=n=>h($(n)||t.getAttribute(`element-loading-${Xe(n)}`)),k=(o=$("fullscreen"))!=null?o:e.modifiers.fullscreen,m={text:p("text"),svg:p("svg"),svgViewBox:p("svgViewBox"),spinner:p("spinner"),background:p("background"),customClass:p("customClass"),fullscreen:k,target:(s=$("target"))!=null?s:k?void 0:t,body:(d=$("body"))!=null?d:e.modifiers.body,lock:(i=$("lock"))!=null?i:e.modifiers.lock};t[ne]={options:m,instance:Qt(m)}},ss=(t,e)=>{for(const o of Object.keys(e))Ge(e[o])&&(e[o].value=t[o])},us={mounted(t,e){e.value&&ye(t,e)},updated(t,e){const o=t[ne];e.oldValue!==e.value&&(e.value&&!e.oldValue?ye(t,e):e.value&&e.oldValue?le(e.value)&&ss(e.value,o.options):o==null||o.instance.close())},unmounted(t){var e;(e=t[ne])==null||e.instance.close()}};export{is as E,us as v};
