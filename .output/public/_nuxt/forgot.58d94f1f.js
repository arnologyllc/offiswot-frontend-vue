import{E as P,_ as F,a as z,b as O}from"./el-overlay.e870726e.js";import"./el-button.e608a692.js";import{E as R,A as W,s as E,r as g,w as k,e as T,h as _,p as t,i as b,j as c,u as s,k as U,c as y,l as m,o as r,t as x,x as X,y as G,m as H}from"./entry.dfd13bf6.js";import{_ as J}from"./email-icon.5bb15cee.js";import{L as K}from"./LoginButtons.997c04ca.js";import{_ as N}from"./OvConfirmPasswordChangeModal.25c37203.js";import{E as Q}from"./ErrorMassageModal.72b1f162.js";import{_ as Y}from"./_plugin-vue_export-helper.c27b6911.js";import"./focus-trap.5fde4ef1.js";import"./chevron-icon.53818441.js";import"./email-primary-icon.36ae4dae.js";const u=f=>(X("data-v-263c6eb2"),f=f(),G(),f),Z={class:"main"},ee={class:"main__form"},oe=u(()=>t("div",{class:"main__form--title"},"Forgot password",-1)),se=u(()=>t("div",{class:"main__form--subtitle"},"Please fill the forms to get a reset password email.",-1)),le={key:0,class:"el-form-item__global-error-container"},te={class:"el-form-item__global-error"},ie=u(()=>t("img",{src:F,alt:""},null,-1)),ae=u(()=>t("img",{src:J,alt:"user_icon"},null,-1)),re=u(()=>t("span",{for:"email",class:"custom_placeholder"}," Email",-1)),ne=[re],me={key:0,class:"el-form-item__error"},ue=u(()=>t("div",null,null,-1)),de={__name:"forgot",setup(f){const p=H(),h=R(),V=W(),{forgotSuccessData:$,forgotErrorData:C,forgotLoading:I}=E(h);E(V);const a=g({email:null}),B={email:[{required:!0,message:"Email is required",trigger:"blur"},{type:"email",message:"Email is not valid",trigger:"blur"}]},l=g({email:{value:"",isShow:!1},global:{value:""}}),d=g(!1),S=g(!1),M=()=>{p.refs.forgotForm.validate(o=>{if(o)h.forgotPassword(a.value);else return!1})},A=o=>{p.refs.forgotForm.validateField(o,(e,n)=>{e?l.value[o].value="":l.value[o].value=n[o][0].message}),Object.values(a.value).every(e=>e)&&p.refs.forgotForm.validate(e=>S.value=e)},w=(o,e)=>{v()?l.value[o].isShow=e==="mouseover":e==="click"&&(l.value[o].isShow=!0)},D=()=>{p.update()},v=()=>window.innerWidth>990,L=()=>{l.value.global.value=""};return k($,o=>{d.value=!0}),k(C,o=>{if(!d.value&&typeof o!="string")for(const e in o)if(typeof o[e]!="string")for(const n in o[e])l.value.global.value=o[e][n];else l.value.global.value=o[e]}),T(()=>{window.addEventListener("resize",D)}),(o,e)=>{const n=z,j=O,q=P;return r(),_("div",Z,[t("div",ee,[oe,se,b(q,{ref:"forgotForm",class:"main__form--box","hide-required-asterisk":"",model:s(a),rules:B,onSubmit:U(M,["prevent"])},{default:c(()=>[s(l).global.value?(r(),_("div",le,[t("div",te,[ie,t("span",null,x(s(l).global.value),1)]),t("span",{class:"clear-error",onClick:L},"X")])):m("",!0),b(j,{prop:"email"},{error:c(()=>[s(l).email.isShow&&v()?(r(),_("div",me,[t("span",null,x(s(l).email.value),1)])):m("",!0),ue]),default:c(()=>[b(n,{modelValue:s(a).email,"onUpdate:modelValue":e[4]||(e[4]=i=>s(a).email=i),class:"main__form--box__input",placeholder:"Email",onBlur:e[5]||(e[5]=i=>A("email"))},{prefix:c(()=>[ae]),suffix:c(()=>[s(a).email?(r(),_("div",{key:0,style:{position:"relative"},onClick:e[0]||(e[0]=i=>o.focusElement("email"))},ne)):m("",!0),s(l).email.value?(r(),_("img",{key:1,class:"error_icon",src:F,alt:"",onMouseover:e[1]||(e[1]=i=>w("email","mouseover")),onMouseout:e[2]||(e[2]=i=>w("email","mouseout")),onClick:e[3]||(e[3]=i=>w("email","click"))},null,32)):m("",!0)]),_:1},8,["modelValue"])]),_:1}),b(K,{"login-title":"Next","is-valid":s(S),"login-loading":s(I),"show-social":!1},null,8,["is-valid","login-loading"])]),_:1},8,["model","onSubmit"])]),s(l).email.isShow&&!v()?(r(),y(Q,{key:0,"dialog-visible":s(l).email.isShow&&!v(),"error-text":s(l).email.value,onVisible:e[6]||(e[6]=i=>s(l).email.isShow=!1)},null,8,["dialog-visible","error-text"])):m("",!0),s(d)?(r(),y(N,{key:1,email:s(a).email,"dialog-visible":s(d),onClose:e[7]||(e[7]=i=>d.value=!1)},null,8,["email","dialog-visible"])):m("",!0)])}}},ke=Y(de,[["__scopeId","data-v-263c6eb2"]]);export{ke as default};
