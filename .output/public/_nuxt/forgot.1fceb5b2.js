import{E as j,_ as F,a as A,b as z}from"./el-overlay.303db8d7.js";import"./el-button.a9620db7.js";import{G as O,s as P,r as g,w as k,f as R,i as _,j as t,k as b,l as f,u as s,m as W,c as y,p as m,o as r,t as x,x as G,y as T,q as U}from"./entry.4919aef1.js";import{_ as X}from"./email-icon.e86f35e1.js";import{L as H}from"./LoginButtons.ac03b80d.js";import{_ as J}from"./OvConfirmPasswordChangeModal.a5f74b1a.js";import{E as K}from"./ErrorMassageModal.6cc8bcf1.js";import{_ as N}from"./_plugin-vue_export-helper.c27b6911.js";import"./focus-trap.a4932e6f.js";import"./chevron-icon.d6594dcf.js";import"./email-primary-icon.d7579889.js";const u=p=>(G("data-v-55281e08"),p=p(),T(),p),Q={class:"main"},Y={class:"main__form"},Z=u(()=>t("div",{class:"main__form--title"},"Forgot password",-1)),ee=u(()=>t("div",{class:"main__form--subtitle"},"Please fill the forms to get a reset password email.",-1)),oe={key:0,class:"el-form-item__global-error-container"},se={class:"el-form-item__global-error"},le=u(()=>t("img",{src:F,alt:""},null,-1)),te=u(()=>t("img",{src:X,alt:"user_icon"},null,-1)),ie=u(()=>t("span",{for:"email",class:"custom_placeholder"}," Email",-1)),ae=[ie],re={key:0,class:"el-form-item__error"},ne=u(()=>t("div",null,null,-1)),me={__name:"forgot",setup(p){const v=U(),E=O(),{forgotSuccessData:$,forgotErrorData:I,forgotLoading:V}=P(E),a=g({email:null}),C={email:[{required:!0,message:"Email is required",trigger:"blur"},{type:"email",message:"Email is not valid",trigger:"blur"}]},l=g({email:{value:"",isShow:!1},global:{value:""}}),d=g(!1),w=g(!1),B=()=>{v.refs.forgotForm.validate(o=>{if(o)E.forgotPassword(a.value);else return!1})},S=o=>{v.refs.forgotForm.validateField(o,(e,n)=>{e?l.value[o].value="":l.value[o].value=n[o][0].message}),Object.values(a.value).every(e=>e)?v.refs.forgotForm.validate(e=>w.value=e):w.value=!1},h=(o,e)=>{c()?l.value[o].isShow=e==="mouseover":e==="click"&&(l.value[o].isShow=!0)},M=()=>{v.update()},c=()=>window.innerWidth>990,q=()=>{l.value.global.value=""};return k($,o=>{d.value=!0}),k(I,o=>{if(!d.value&&typeof o!="string")for(const e in o)if(typeof o[e]!="string")for(const n in o[e])l.value.global.value=o[e][n];else l.value.global.value=o[e]}),R(()=>{window.addEventListener("resize",M)}),(o,e)=>{const n=A,D=z,L=j;return r(),_("div",Q,[t("div",Y,[Z,ee,b(L,{ref:"forgotForm",class:"main__form--box","hide-required-asterisk":"",model:s(a),rules:C,onSubmit:W(B,["prevent"])},{default:f(()=>[s(l).global.value?(r(),_("div",oe,[t("div",se,[le,t("span",null,x(s(l).global.value),1)]),t("span",{class:"clear-error",onClick:q},"X")])):m("",!0),b(D,{prop:"email"},{error:f(()=>[s(l).email.isShow&&c()?(r(),_("div",re,[t("span",null,x(s(l).email.value),1)])):m("",!0),ne]),default:f(()=>[b(n,{modelValue:s(a).email,"onUpdate:modelValue":e[4]||(e[4]=i=>s(a).email=i),class:"main__form--box__input",placeholder:"Email",onInput:e[5]||(e[5]=i=>S("email")),onBlur:e[6]||(e[6]=i=>S("email"))},{prefix:f(()=>[te]),suffix:f(()=>[s(a).email?(r(),_("div",{key:0,style:{position:"relative"},onClick:e[0]||(e[0]=i=>o.focusElement("email"))},ae)):m("",!0),s(l).email.value?(r(),_("img",{key:1,class:"error_icon",src:F,alt:"",onMouseover:e[1]||(e[1]=i=>h("email","mouseover")),onMouseout:e[2]||(e[2]=i=>h("email","mouseout")),onClick:e[3]||(e[3]=i=>h("email","click"))},null,32)):m("",!0)]),_:1},8,["modelValue"])]),_:1}),b(H,{"login-title":"Next","is-valid":s(w),"login-loading":s(V),"show-social":!1},null,8,["is-valid","login-loading"])]),_:1},8,["model","onSubmit"])]),s(l).email.isShow&&!c()?(r(),y(K,{key:0,"dialog-visible":s(l).email.isShow&&!c(),"error-text":s(l).email.value,onVisible:e[7]||(e[7]=i=>s(l).email.isShow=!1)},null,8,["dialog-visible","error-text"])):m("",!0),s(d)?(r(),y(J,{key:1,email:s(a).email,"dialog-visible":s(d),onClose:e[8]||(e[8]=i=>d.value=!1)},null,8,["email","dialog-visible"])):m("",!0)])}}},Ee=N(me,[["__scopeId","data-v-55281e08"]]);export{Ee as default};
