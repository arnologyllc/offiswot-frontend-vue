import{_ as Y,b as te,d as z,O as Be,E as Ie,j as he,l as Ke,a as Ge,a6 as Ue,h as ze,w as Ye,r as Ee}from"./el-button.6d07ff3a.js";import{c as K,a as He,u as _e,E as Je,O as Ve,w as ge}from"./el-popper.a26bebaf.js";import{E as je}from"./el-scrollbar.70347ffa.js";import{E,c as We,F as qe}from"./focus-trap.cf142168.js";import{H,P as G,r as $,M as X,J as F,e as Ce,u as D,ae as $e,L as P,be as Qe,a3 as q,w as W,a6 as S,o as A,c as V,i as _,h as k,n as Xe,g as Ze,X as ye,K as xe,I as ie,f as Z,af as eo,Q as oe,A as Q,k as se,l as ke,G as oo,m as B,O as no,j as ae,F as Te,N as to,B as ro,D as lo,z as so,a as ao,s as io,bP as uo,b as co,p as po,aa as fo,v as mo,x as vo,y as _o}from"./entry.1c65c56b.js";import{c as Se}from"./refs.6073550b.js";/* empty css                        */import{a as w}from"./js.cookie.edb2da2a.js";import{n as ne}from"./nuxt-storage.min.d80392db.js";import{d as ee}from"./default-user-icon.998e679a.js";import{_ as go}from"./_plugin-vue_export-helper.c27b6911.js";import"./_commonjsHelpers.042e6b4d.js";const wo=H({inheritAttrs:!1});function bo(e,o,u,l,f,c){return G(e.$slots,"default")}var Io=Y(wo,[["render",bo],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection.vue"]]);const ho=H({name:"ElCollectionItem",inheritAttrs:!1});function Eo(e,o,u,l,f,c){return G(e.$slots,"default")}var Co=Y(ho,[["render",Eo],["__file","/home/runner/work/element-plus/element-plus/packages/components/collection/src/collection-item.vue"]]);const Oe="data-el-collection-item",Fe=e=>{const o=`El${e}Collection`,u=`${o}Item`,l=Symbol(o),f=Symbol(u),c={...Io,name:o,setup(){const s=$(null),m=new Map;X(l,{itemMap:m,getItems:()=>{const g=D(s);if(!g)return[];const v=Array.from(g.querySelectorAll(`[${Oe}]`));return[...m.values()].sort((t,d)=>v.indexOf(t.ref)-v.indexOf(d.ref))},collectionRef:s})}},a={...Co,name:u,setup(s,{attrs:m}){const b=$(null),g=F(l,void 0);X(f,{collectionItemRef:b}),Ce(()=>{const v=D(b);v&&g.itemMap.set(v,{ref:v,...m})}),$e(()=>{const v=D(b);g.itemMap.delete(v)})}};return{COLLECTION_INJECTION_KEY:l,COLLECTION_ITEM_INJECTION_KEY:f,ElCollection:c,ElCollectionItem:a}},$o=te({style:{type:z([String,Array,Object])},currentTabId:{type:z(String)},defaultCurrentTabId:String,loop:Boolean,dir:{type:String,values:["ltr","rtl"],default:"ltr"},orientation:{type:z(String)},onBlur:Function,onFocus:Function,onMousedown:Function}),{ElCollection:yo,ElCollectionItem:ko,COLLECTION_INJECTION_KEY:ue,COLLECTION_ITEM_INJECTION_KEY:To}=Fe("RovingFocusGroup"),ce=Symbol("elRovingFocusGroup"),De=Symbol("elRovingFocusGroupItem"),So={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"},Oo=(e,o)=>{if(o!=="rtl")return e;switch(e){case E.right:return E.left;case E.left:return E.right;default:return e}},Fo=(e,o,u)=>{const l=Oo(e.key,u);if(!(o==="vertical"&&[E.left,E.right].includes(l))&&!(o==="horizontal"&&[E.up,E.down].includes(l)))return So[l]},Do=(e,o)=>e.map((u,l)=>e[(l+o)%e.length]),de=e=>{const{activeElement:o}=document;for(const u of e)if(u===o||(u.focus(),o!==document.activeElement))return},we="currentTabIdChange",be="rovingFocusGroup.entryFocus",Ro={bubbles:!1,cancelable:!0},No=H({name:"ElRovingFocusGroupImpl",inheritAttrs:!1,props:$o,emits:[we,"entryFocus"],setup(e,{emit:o}){var u;const l=$((u=e.currentTabId||e.defaultCurrentTabId)!=null?u:null),f=$(!1),c=$(!1),a=$(null),{getItems:s}=F(ue,void 0),m=P(()=>[{outline:"none"},e.style]),b=r=>{o(we,r)},g=()=>{f.value=!0},v=K(r=>{var I;(I=e.onMousedown)==null||I.call(e,r)},()=>{c.value=!0}),y=K(r=>{var I;(I=e.onFocus)==null||I.call(e,r)},r=>{const I=!D(c),{target:M,currentTarget:O}=r;if(M===O&&I&&!D(f)){const U=new Event(be,Ro);if(O==null||O.dispatchEvent(U),!U.defaultPrevented){const C=s().filter(h=>h.focusable),R=C.find(h=>h.active),T=C.find(h=>h.id===D(l)),p=[R,T,...C].filter(Boolean).map(h=>h.ref);de(p)}}c.value=!1}),t=K(r=>{var I;(I=e.onBlur)==null||I.call(e,r)},()=>{f.value=!1}),d=(...r)=>{o("entryFocus",...r)};X(ce,{currentTabbedId:Qe(l),loop:q(e,"loop"),tabIndex:P(()=>D(f)?-1:0),rovingFocusGroupRef:a,rovingFocusGroupRootStyle:m,orientation:q(e,"orientation"),dir:q(e,"dir"),onItemFocus:b,onItemShiftTab:g,onBlur:t,onFocus:y,onMousedown:v}),W(()=>e.currentTabId,r=>{l.value=r??null}),We(a,be,d)}});function Po(e,o,u,l,f,c){return G(e.$slots,"default")}var Ao=Y(No,[["render",Po],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group-impl.vue"]]);const Lo=H({name:"ElRovingFocusGroup",components:{ElFocusGroupCollection:yo,ElRovingFocusGroupImpl:Ao}});function Mo(e,o,u,l,f,c){const a=S("el-roving-focus-group-impl"),s=S("el-focus-group-collection");return A(),V(s,null,{default:_(()=>[k(a,Xe(Ze(e.$attrs)),{default:_(()=>[G(e.$slots,"default")]),_:3},16)]),_:3})}var Bo=Y(Lo,[["render",Mo],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-group.vue"]]);const Ko=H({components:{ElRovingFocusCollectionItem:ko},props:{focusable:{type:Boolean,default:!0},active:{type:Boolean,default:!1}},emits:["mousedown","focus","keydown"],setup(e,{emit:o}){const{currentTabbedId:u,loop:l,onItemFocus:f,onItemShiftTab:c}=F(ce,void 0),{getItems:a}=F(ue,void 0),s=ye(),m=$(null),b=K(t=>{o("mousedown",t)},t=>{e.focusable?f(D(s)):t.preventDefault()}),g=K(t=>{o("focus",t)},()=>{f(D(s))}),v=K(t=>{o("keydown",t)},t=>{const{key:d,shiftKey:r,target:I,currentTarget:M}=t;if(d===E.tab&&r){c();return}if(I!==M)return;const O=Fo(t);if(O){t.preventDefault();let C=a().filter(R=>R.focusable).map(R=>R.ref);switch(O){case"last":{C.reverse();break}case"prev":case"next":{O==="prev"&&C.reverse();const R=C.indexOf(M);C=l.value?Do(C,R+1):C.slice(R+1);break}}xe(()=>{de(C)})}}),y=P(()=>u.value===D(s));return X(De,{rovingFocusGroupItemRef:m,tabIndex:P(()=>D(y)?0:-1),handleMousedown:b,handleFocus:g,handleKeydown:v}),{id:s,handleKeydown:v,handleFocus:g,handleMousedown:b}}});function Go(e,o,u,l,f,c){const a=S("el-roving-focus-collection-item");return A(),V(a,{id:e.id,focusable:e.focusable,active:e.active},{default:_(()=>[G(e.$slots,"default")]),_:3},8,["id","focusable","active"])}var Uo=Y(Ko,[["render",Go],["__file","/home/runner/work/element-plus/element-plus/packages/components/roving-focus-group/src/roving-focus-item.vue"]]);const zo=te({trigger:He.trigger,effect:{..._e.effect,default:"light"},type:{type:z(String)},placement:{type:z(String),default:"bottom"},popperOptions:{type:z(Object),default:()=>({})},id:String,size:{type:String,default:""},splitButton:Boolean,hideOnClick:{type:Boolean,default:!0},loop:{type:Boolean,default:!0},showTimeout:{type:Number,default:150},hideTimeout:{type:Number,default:150},tabindex:{type:z([Number,String]),default:0},maxHeight:{type:z([Number,String]),default:""},popperClass:{type:String,default:""},disabled:{type:Boolean,default:!1},role:{type:String,default:"menu"},buttonProps:{type:z(Object)},teleported:_e.teleported}),Re=te({command:{type:[Object,String,Number],default:()=>({})},disabled:Boolean,divided:Boolean,textValue:String,icon:{type:Be}}),Yo=te({onKeydown:{type:z(Function)}}),Ho=[E.down,E.pageDown,E.home],Ne=[E.up,E.pageUp,E.end],Jo=[...Ho,...Ne],{ElCollection:Vo,ElCollectionItem:jo,COLLECTION_INJECTION_KEY:Wo,COLLECTION_ITEM_INJECTION_KEY:qo}=Fe("Dropdown"),re=Symbol("elDropdown"),{ButtonGroup:Qo}=Ie,Xo=H({name:"ElDropdown",components:{ElButton:Ie,ElButtonGroup:Qo,ElScrollbar:je,ElDropdownCollection:Vo,ElTooltip:Je,ElRovingFocusGroup:Bo,ElOnlyChild:Ve,ElIcon:he,ArrowDown:Ke},props:zo,emits:["visible-change","click","command"],setup(e,{emit:o}){const u=ke(),l=ie("dropdown"),{t:f}=Ge(),c=$(),a=$(),s=$(null),m=$(null),b=$(null),g=$(null),v=$(!1),y=[E.enter,E.space,E.down],t=P(()=>({maxHeight:Ue(e.maxHeight)})),d=P(()=>[l.m(C.value)]),r=ye().value,I=P(()=>e.id||r);W([c,q(e,"trigger")],([i,N],[j])=>{var fe,me,ve;const Me=oo(N)?N:[N];(fe=j==null?void 0:j.$el)!=null&&fe.removeEventListener&&j.$el.removeEventListener("pointerenter",T),(me=i==null?void 0:i.$el)!=null&&me.removeEventListener&&i.$el.removeEventListener("pointerenter",T),(ve=i==null?void 0:i.$el)!=null&&ve.addEventListener&&Me.includes("hover")&&i.$el.addEventListener("pointerenter",T)},{immediate:!0}),$e(()=>{var i,N;(N=(i=c.value)==null?void 0:i.$el)!=null&&N.removeEventListener&&c.value.$el.removeEventListener("pointerenter",T)});function M(){O()}function O(){var i;(i=s.value)==null||i.onClose()}function U(){var i;(i=s.value)==null||i.onOpen()}const C=ze();function R(...i){o("command",...i)}function T(){var i,N;(N=(i=c.value)==null?void 0:i.$el)==null||N.focus()}function n(){}function p(){const i=D(m);i==null||i.focus(),g.value=null}function h(i){g.value=i}function x(i){v.value||(i.preventDefault(),i.stopImmediatePropagation())}function J(){o("visible-change",!0)}function L(i){(i==null?void 0:i.type)==="keydown"&&m.value.focus()}function le(){o("visible-change",!1)}return X(re,{contentRef:m,role:P(()=>e.role),triggerId:I,isUsingKeyboard:v,onItemEnter:n,onItemLeave:p}),X("elDropdown",{instance:u,dropdownSize:C,handleClick:M,commandHandler:R,trigger:q(e,"trigger"),hideOnClick:q(e,"hideOnClick")}),{t:f,ns:l,scrollbar:b,wrapStyle:t,dropdownTriggerKls:d,dropdownSize:C,triggerId:I,triggerKeys:y,currentTabId:g,handleCurrentTabIdChange:h,handlerMainButtonClick:i=>{o("click",i)},handleEntryFocus:x,handleClose:O,handleOpen:U,handleBeforeShowTooltip:J,handleShowTooltip:L,handleBeforeHideTooltip:le,onFocusAfterTrapped:i=>{var N,j;i.preventDefault(),(j=(N=m.value)==null?void 0:N.focus)==null||j.call(N,{preventScroll:!0})},popperRef:s,contentRef:m,triggeringElementRef:c,referenceElementRef:a}}});function Zo(e,o,u,l,f,c){var a;const s=S("el-dropdown-collection"),m=S("el-roving-focus-group"),b=S("el-scrollbar"),g=S("el-only-child"),v=S("el-tooltip"),y=S("el-button"),t=S("arrow-down"),d=S("el-icon"),r=S("el-button-group");return A(),Z("div",{class:Q([e.ns.b(),e.ns.is("disabled",e.disabled)])},[k(v,{ref:"popperRef",role:e.role,effect:e.effect,"fallback-placements":["bottom","top"],"popper-options":e.popperOptions,"gpu-acceleration":!1,"hide-after":e.trigger==="hover"?e.hideTimeout:0,"manual-mode":!0,placement:e.placement,"popper-class":[e.ns.e("popper"),e.popperClass],"reference-element":(a=e.referenceElementRef)==null?void 0:a.$el,trigger:e.trigger,"trigger-keys":e.triggerKeys,"trigger-target-el":e.contentRef,"show-after":e.trigger==="hover"?e.showTimeout:0,"stop-popper-mouse-event":!1,"virtual-ref":e.triggeringElementRef,"virtual-triggering":e.splitButton,disabled:e.disabled,transition:`${e.ns.namespace.value}-zoom-in-top`,teleported:e.teleported,pure:"",persistent:"",onBeforeShow:e.handleBeforeShowTooltip,onShow:e.handleShowTooltip,onBeforeHide:e.handleBeforeHideTooltip},eo({content:_(()=>[k(b,{ref:"scrollbar","wrap-style":e.wrapStyle,tag:"div","view-class":e.ns.e("list")},{default:_(()=>[k(m,{loop:e.loop,"current-tab-id":e.currentTabId,orientation:"horizontal",onCurrentTabIdChange:e.handleCurrentTabIdChange,onEntryFocus:e.handleEntryFocus},{default:_(()=>[k(s,null,{default:_(()=>[G(e.$slots,"dropdown")]),_:3})]),_:3},8,["loop","current-tab-id","onCurrentTabIdChange","onEntryFocus"])]),_:3},8,["wrap-style","view-class"])]),_:2},[e.splitButton?void 0:{name:"default",fn:_(()=>[k(g,{id:e.triggerId,ref:"triggeringElementRef",role:"button",tabindex:e.tabindex},{default:_(()=>[G(e.$slots,"default")]),_:3},8,["id","tabindex"])])}]),1032,["role","effect","popper-options","hide-after","placement","popper-class","reference-element","trigger","trigger-keys","trigger-target-el","show-after","virtual-ref","virtual-triggering","disabled","transition","teleported","onBeforeShow","onShow","onBeforeHide"]),e.splitButton?(A(),V(r,{key:0},{default:_(()=>[k(y,oe({ref:"referenceElementRef"},e.buttonProps,{size:e.dropdownSize,type:e.type,disabled:e.disabled,tabindex:e.tabindex,onClick:e.handlerMainButtonClick}),{default:_(()=>[G(e.$slots,"default")]),_:3},16,["size","type","disabled","tabindex","onClick"]),k(y,oe({id:e.triggerId,ref:"triggeringElementRef"},e.buttonProps,{role:"button",size:e.dropdownSize,type:e.type,class:e.ns.e("caret-button"),disabled:e.disabled,tabindex:e.tabindex,"aria-label":e.t("el.dropdown.toggleDropdown")}),{default:_(()=>[k(d,{class:Q(e.ns.e("icon"))},{default:_(()=>[k(t)]),_:1},8,["class"])]),_:1},16,["id","size","type","class","disabled","tabindex","aria-label"])]),_:3})):se("v-if",!0)],2)}var xo=Y(Xo,[["render",Zo],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown.vue"]]);const en=H({name:"DropdownItemImpl",components:{ElIcon:he},props:Re,emits:["pointermove","pointerleave","click","clickimpl"],setup(e,{emit:o}){const u=ie("dropdown"),{role:l}=F(re,void 0),{collectionItemRef:f}=F(qo,void 0),{collectionItemRef:c}=F(To,void 0),{rovingFocusGroupItemRef:a,tabIndex:s,handleFocus:m,handleKeydown:b,handleMousedown:g}=F(De,void 0),v=Se(f,c,a),y=P(()=>l.value==="menu"?"menuitem":l.value==="navigation"?"link":"button"),t=K(d=>{const{code:r}=d;if(r===E.enter||r===E.space)return d.preventDefault(),d.stopImmediatePropagation(),o("clickimpl",d),!0},b);return{ns:u,itemRef:v,dataset:{[Oe]:""},role:y,tabIndex:s,handleFocus:m,handleKeydown:t,handleMousedown:g}}}),on=["aria-disabled","tabindex","role"];function nn(e,o,u,l,f,c){const a=S("el-icon");return A(),Z(Te,null,[e.divided?(A(),Z("li",oe({key:0,role:"separator",class:e.ns.bem("menu","item","divided")},e.$attrs),null,16)):se("v-if",!0),B("li",oe({ref:e.itemRef},{...e.dataset,...e.$attrs},{"aria-disabled":e.disabled,class:[e.ns.be("menu","item"),e.ns.is("disabled",e.disabled)],tabindex:e.tabIndex,role:e.role,onClick:o[0]||(o[0]=s=>e.$emit("clickimpl",s)),onFocus:o[1]||(o[1]=(...s)=>e.handleFocus&&e.handleFocus(...s)),onKeydown:o[2]||(o[2]=ae((...s)=>e.handleKeydown&&e.handleKeydown(...s),["self"])),onMousedown:o[3]||(o[3]=(...s)=>e.handleMousedown&&e.handleMousedown(...s)),onPointermove:o[4]||(o[4]=s=>e.$emit("pointermove",s)),onPointerleave:o[5]||(o[5]=s=>e.$emit("pointerleave",s))}),[e.icon?(A(),V(a,{key:0},{default:_(()=>[(A(),V(no(e.icon)))]),_:1})):se("v-if",!0),G(e.$slots,"default")],16,on)],64)}var tn=Y(en,[["render",nn],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item-impl.vue"]]);const Pe=()=>{const e=F("elDropdown",{}),o=P(()=>e==null?void 0:e.dropdownSize);return{elDropdown:e,_elDropdownSize:o}},rn=H({name:"ElDropdownItem",components:{ElDropdownCollectionItem:jo,ElRovingFocusItem:Uo,ElDropdownItemImpl:tn},inheritAttrs:!1,props:Re,emits:["pointermove","pointerleave","click"],setup(e,{emit:o,attrs:u}){const{elDropdown:l}=Pe(),f=ke(),c=$(null),a=P(()=>{var t,d;return(d=(t=D(c))==null?void 0:t.textContent)!=null?d:""}),{onItemEnter:s,onItemLeave:m}=F(re,void 0),b=K(t=>(o("pointermove",t),t.defaultPrevented),ge(t=>{if(e.disabled){m(t);return}const d=t.currentTarget;d===document.activeElement||d.contains(document.activeElement)||(s(t),t.defaultPrevented||d==null||d.focus())})),g=K(t=>(o("pointerleave",t),t.defaultPrevented),ge(t=>{m(t)})),v=K(t=>{if(!e.disabled)return o("click",t),t.type!=="keydown"&&t.defaultPrevented},t=>{var d,r,I;if(e.disabled){t.stopImmediatePropagation();return}(d=l==null?void 0:l.hideOnClick)!=null&&d.value&&((r=l.handleClick)==null||r.call(l)),(I=l.commandHandler)==null||I.call(l,e.command,f,t)}),y=P(()=>({...e,...u}));return{handleClick:v,handlePointerMove:b,handlePointerLeave:g,textContent:a,propsAndAttrs:y}}});function ln(e,o,u,l,f,c){var a;const s=S("el-dropdown-item-impl"),m=S("el-roving-focus-item"),b=S("el-dropdown-collection-item");return A(),V(b,{disabled:e.disabled,"text-value":(a=e.textValue)!=null?a:e.textContent},{default:_(()=>[k(m,{focusable:!e.disabled},{default:_(()=>[k(s,oe(e.propsAndAttrs,{onPointerleave:e.handlePointerLeave,onPointermove:e.handlePointerMove,onClickimpl:e.handleClick}),{default:_(()=>[G(e.$slots,"default")]),_:3},16,["onPointerleave","onPointermove","onClickimpl"])]),_:3},8,["focusable"])]),_:3},8,["disabled","text-value"])}var Ae=Y(rn,[["render",ln],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-item.vue"]]);const sn=H({name:"ElDropdownMenu",props:Yo,setup(e){const o=ie("dropdown"),{_elDropdownSize:u}=Pe(),l=u.value,{focusTrapRef:f,onKeydown:c}=F(qe,void 0),{contentRef:a,role:s,triggerId:m}=F(re,void 0),{collectionRef:b,getItems:g}=F(Wo,void 0),{rovingFocusGroupRef:v,rovingFocusGroupRootStyle:y,tabIndex:t,onBlur:d,onFocus:r,onMousedown:I}=F(ce,void 0),{collectionRef:M}=F(ue,void 0),O=P(()=>[o.b("menu"),o.bm("menu",l==null?void 0:l.value)]),U=Se(a,b,f,v,M),C=K(T=>{var n;(n=e.onKeydown)==null||n.call(e,T)},T=>{const{currentTarget:n,code:p,target:h}=T;if(n.contains(h),E.tab===p&&T.stopImmediatePropagation(),T.preventDefault(),h!==D(a)||!Jo.includes(p))return;const J=g().filter(L=>!L.disabled).map(L=>L.ref);Ne.includes(p)&&J.reverse(),de(J)});return{size:l,rovingFocusGroupRootStyle:y,tabIndex:t,dropdownKls:O,role:s,triggerId:m,dropdownListWrapperRef:U,handleKeydown:T=>{C(T),c(T)},onBlur:d,onFocus:r,onMousedown:I}}}),an=["role","aria-labelledby"];function un(e,o,u,l,f,c){return A(),Z("ul",{ref:e.dropdownListWrapperRef,class:Q(e.dropdownKls),style:to(e.rovingFocusGroupRootStyle),tabindex:-1,role:e.role,"aria-labelledby":e.triggerId,onBlur:o[0]||(o[0]=(...a)=>e.onBlur&&e.onBlur(...a)),onFocus:o[1]||(o[1]=(...a)=>e.onFocus&&e.onFocus(...a)),onKeydown:o[2]||(o[2]=ae((...a)=>e.handleKeydown&&e.handleKeydown(...a),["self"])),onMousedown:o[3]||(o[3]=ae((...a)=>e.onMousedown&&e.onMousedown(...a),["self"]))},[G(e.$slots,"default")],46,an)}var Le=Y(sn,[["render",un],["__file","/home/runner/work/element-plus/element-plus/packages/components/dropdown/src/dropdown-menu.vue"]]);const cn=Ye(xo,{DropdownItem:Ae,DropdownMenu:Le}),dn=Ee(Ae),pn=Ee(Le);const pe=e=>(vo("data-v-fdb6f1d4"),e=e(),_o(),e),fn={class:"main"},mn={class:"main__top"},vn=["onClick"],_n=["src"],gn=pe(()=>B("i",{class:"el-icon-caret-bottom"},null,-1)),wn=pe(()=>B("span",null,"Logout",-1)),bn={class:"main__bottom"},In=pe(()=>B("div",{class:"main__user-actions--add_button"},[B("span",null,"+")],-1)),hn={__name:"Sidebar",setup(e){const o=ro(),u=lo(),l=so(),f=ao(),{profileSuccessData:c,profileFailureData:a,editProfileData:s,editFailureData:m}=io(o),{$myFetch:b}=uo(),g=fo(),v=$(ee),y=$(null),t=co(),d=$(!1),r=$(ne.localStorage.getData("accounts")),I=n=>{const p=w.get("currentAccountID");y.value=n,n!=null&&n.user.avatar?r.value[p].avatarUrl=`${g.public.env.serverUrl}${n.avatarPath}/${n.user.avatar}`:r.value[p].avatarUrl=`${ee}`};W(c,n=>{const p=w.get("currentAccountID");y.value=n,n!=null&&n.user.avatar?r.value[p].avatarUrl=`${g.public.env.serverUrl}${n.avatarPath}/${n.user.avatar}`:r.value[p].avatarUrl=`${ee}`}),W(m,n=>{(n==null?void 0:n.error)==="You don't have permission to access this resource"&&(w.remove("login_pin_token"),w.remove("settings_pin_token"),n=null,t.go())}),W(a,n=>{(n==null?void 0:n.error)==="You don't have permission to access this resource"&&(w.remove("login_pin_token"),w.remove("settings_pin_token"),n=null,t.go())}),W(s,n=>{n.user.avatar?v.value=`${n.avatarPath}/${n.user.avatar}`:v.value=ee}),Ce(()=>{w.get("login_pin_token")&&(c.value?I(c.value):o.getProfile())});const M=()=>{d.value="hovered"},O=()=>{d.value=!1},U=async n=>{o.$reset(),u.$reset(),l.$reset(),f.$reset(),w.set("token",r.value[n].token,{expires:(Date.parse(r.value[n].token_expires)-Date.now())/864e5}),w.set("first_login",r.value[n].first_login),r.value[n].settings_pin_token&&w.set("settings_pin_token",r.value[n].settings_pin_token),r.value[n].login_pin_token&&w.set("login_pin_token",r.value[n].login_pin_token,{expires:(Date.parse(r.value[n].login_pin_token_expires)-new Date)/864e5}),r.value.sort((p,h)=>p.ID===n?-1:h.ID===n?1:0),r.value.forEach((p,h)=>p.ID=h),ne.localStorage.setData("accounts",r.value,30,"d"),w.set("currentAccountID",0),o.getProfile(),await o.getWorkSpaces()},C=()=>{w.set("currentAccountID",r.value.length),w.set("addAccount",!0),window.open("/login","_blank")},R=async n=>{const p=r.value.filter(h=>h.ID!==n);o.$reset(),u.$reset(),l.$reset(),f.$reset(),U(n),await b("logout",{method:"post"}),p[0]?(w.set("token",p[0].token,{expires:(Date.parse(p[0].token_expires)-Date.now())/864e5}),p[0].first_login===!0&&w.set("first_login",p[0].first_login),p[0].settings_pin_token&&w.set("settings_pin_token",p[0].settings_pin_token),p[0].login_pin_token&&w.set("login_pin_token",p[0].login_pin_token,{expires:(Date.parse(p[0].login_pin_token_expires)-new Date)/864e5}),w.set("currentAccountID",0),o.getProfile(),await o.getWorkSpaces(),t.go(),ne.localStorage.setData("accounts",p,30,"d")):(w.remove("token"),w.remove("first_login"),w.remove("settings_pin_token"),w.remove("login_pin_token"),ne.localStorage.setData("accounts",p,30,"d"),mo("/login"))},T=n=>n===+w.get("currentAccountID")?"currentUser":!1;return(n,p)=>{const h=dn,x=pn,J=cn;return A(),Z("nav",fn,[B("div",mn,[(A(!0),Z(Te,null,po(r.value,L=>(A(),V(J,{key:L.id,class:"main__user-actions"},{dropdown:_(()=>[k(x,null,{default:_(()=>[k(h,{class:"main__user-actions--add_element",onClick:le=>R(L.ID)},{default:_(()=>[wn]),_:2},1032,["onClick"])]),_:2},1024)]),default:_(()=>[B("div",{class:Q(["main__user-actions--user",T(L.ID)]),onClick:le=>U(L.ID)},[B("img",{src:L.avatarUrl?L.avatarUrl:D(ee),alt:"Avatar",class:"main__user-actions--avatar"},null,8,_n),gn],10,vn)]),_:2},1024))),128))]),B("div",bn,[k(J,{class:"main__user-actions-add"},{dropdown:_(()=>[k(x,{class:"main__user-actions--add_actions"},{default:_(()=>[k(h,{class:"main__user-actions--add_element"},{default:_(()=>[B("span",{class:Q(d.value),onClick:C,onMouseover:M,onMouseout:O}," Add account ",34)]),_:1}),k(h,{class:"main__user-actions--add_element"},{default:_(()=>[B("span",{class:Q(d.value),onMouseover:M,onMouseout:O}," Add workspace ",34)]),_:1})]),_:1})]),default:_(()=>[In]),_:1})])])}}},Ln=go(hn,[["__scopeId","data-v-fdb6f1d4"]]);export{Ln as default};
