import{E as Q}from"./index.9ce43428.js";import{E as Y,v as G}from"./el-loading.d7078e60.js";import{E as J,s as K,b as X,e as Z,f as ee,r,w as E,h as se,o,i as n,U as ae,u as s,l as a,Q as P,t as f,m as u,c as j,k as _,j as v,q as te,x as S,F as oe,p as re,C as ne,y as ie,z as le,ac as ce}from"./entry.dabfc507.js";import{_ as R}from"./edit-icon.d7fad4c9.js";import{d as ue}from"./default-user-icon.3fa51349.js";import{C as _e}from"./AccessCheckModal.b359da57.js";import de from"./settingsToken.812dd4cb.js";import pe from"./auth.0edab5ad.js";import{_ as me}from"./_plugin-vue_export-helper.c27b6911.js";import"./focus-trap.04464a06.js";import"./error.3564d58a.js";import"./email-primary-icon.1455806e.js";import"./eye-close-icon.eaa88d21.js";const fe=""+new URL("email1-icon.ced79935.svg",import.meta.url).href,ve=""+new URL("phone-icon.1b07dd61.svg",import.meta.url).href;const c=h=>(ie("data-v-575c8c37"),h=h(),le(),h),he={class:"main"},ke={class:"main__user-container"},we=c(()=>a("div",{class:"user-box__title"},"Your Profile",-1)),ge=["src"],ye={class:"user-box__user-info"},be={class:"user-box__user-fullname user-box__title"},xe={key:0,class:"user-box__user-fullname-span"},Ce=c(()=>a("span",null,"Edit Profile",-1)),$e={key:0,class:"user-box__specialty"},Te={class:"user-box__flex-box"},Ee=c(()=>a("img",{src:fe,alt:"email_icon"},null,-1)),je={class:"user-box__flex-box"},Se={key:0,style:{"margin-bottom":"3px"},src:ve,alt:"phone_icon"},We={class:"user-workspaces"},Le={class:"user-workspaces__header"},Ue=c(()=>a("div",{class:"user-workspaces__title"},"your workspaces",-1)),Pe=c(()=>a("span",null,"+ Create workspace",-1)),Re={key:0},Ve={class:"user-workspaces__workspace-name"},De={class:"user-workspaces__buttons"},Ie=c(()=>a("span",null,"Open",-1)),Ne=c(()=>a("img",{src:R,alt:"edit_icon"},null,-1)),Oe={key:1,class:"user-workspaces__container"},ze=c(()=>a("span",null,"Create",-1)),Be={class:"user-workspaces__container-text"},Fe=["innerHTML"],Me={key:2,class:"user-workspaces__header-bottom"},Ae=c(()=>a("div",{class:"user-workspaces__title"},"participate in workspace",-1)),He=[Ae],qe={__name:"index",setup(h){const k=J(),{profileLoading:V,profileSuccessData:D,profileFailureData:Qe,editProfileData:I,workspacesSuccessData:N,workspacesFailureData:Ye}=K(k),O=X();Z();const W=ee(),z=ce(),d=r(null);r("");const w=r({avatar:null}),g=r(null),p=r(null),C=r(null),L=r(null),m=r(null),U=r(null),$=r(ue),B=r(null);E(D,e=>{var b;e.user.avatar&&($.value=`${z.public.env.serverUrl}${e.avatarPath}/${e.user.avatar}`);const[t,i,y]=[e.user.name?e.user.name:"",e.user.lastname?e.user.lastname:"",e.user.surname?e.user.surname:""];(t||i||y)&&(p.value=`${t} ${i} ${y}`),C.value=e.user.phone_number,L.value=e.user.invite_workspaces.length,U.value=e.user.email,m.value=(b=e.specialties.find(x=>x.id===e.user.speciality_id))==null?void 0:b.name}),E(I,e=>{e.user.avatar&&($.value=`${e.avatarPath}/${e.user.avatar}`)}),E(N,e=>{d.value=e}),se(async()=>{pe(),g.value=de(),k.getProfile(),await k.getWorkSpaces(),window.addEventListener("resize",M)});const T=()=>d.value&&d.value.myWorkspaces.length,F=e=>{S(`/workspace/staff/${e}`)},M=()=>{O.update()},A=()=>window.innerWidth>861?`Thanks for joining Offiswot!<br /><br />
            Create a workspace for your team or company using our productivity platform.<br/>Enjoy collaborating with each other easily and managing yourteam members and the projects effectively.`:window.innerWidth<=861&&window.innerWidth>567?`Thanks for joining Offiswot!<br /><br />
            Create a workspace for your team or company using our productivity platform. Enjoy collaborating with each other easily and managing yourteam members and the projects effectively.`:`Thanks for<br /> joining Offiswot!<br /><br />
            Create a workspace for your team or company using our productivity platform. Enjoy collaborating with each other easily and managing yourteam members and the projects effectively.`,H=(e,t)=>{w.value.avatar=t.raw,B.value=URL.createObjectURL(t.raw),k.editProfile(w.value)};return(e,t)=>{var x;const i=Q,y=Y,b=G;return o(),n("div",null,[ae((o(),n("div",he,[a("div",ke,[we,a("div",{style:P(s(p)&&s(m)?"":"align-items:center;"),class:"user-box__info"},[a("img",{class:"user-box__avatar",src:s($),alt:"user_avatar"},null,8,ge),a("div",ye,[a("div",be,[s(p)?(o(),n("span",xe,f(s(p)),1)):u("",!0),s(p)?(o(),n("img",{key:1,class:"user-box__user-edit-icon",src:R,alt:"edit_icon",onClick:t[0]||(t[0]=l=>s(W).push("/profile/edit"))})):(o(),j(i,{key:2,class:"user-box__user-edit-btn",onClick:t[1]||(t[1]=l=>s(W).push("/profile/edit"))},{default:_(()=>[Ce]),_:1}))]),s(m)?(o(),n("div",$e,f(s(m)),1)):u("",!0),a("div",{class:"user-box__credentials",style:P(s(m)?"padding-top:30px":"padding-top:15px")},[a("div",Te,[Ee,a("div",null,f(s(U)),1)]),a("div",je,[s(C)?(o(),n("img",Se)):u("",!0),a("div",null,f(s(C)),1)])],4)])],4),v(y,{modelValue:s(w).avatar,"onUpdate:modelValue":t[2]||(t[2]=l=>s(w).avatar=l),"show-file-list":!1,class:"main__form--upload",action:"#",accept:"image/*","on-success":H},{default:_(()=>[v(i,{class:"change-picture"},{default:_(()=>[te("Change picture")]),_:1})]),_:1},8,["modelValue"]),a("div",We,[a("div",Le,[Ue,T?(o(),j(i,{key:0,class:"user-workspaces__create-btn-outline",onClick:t[3]||(t[3]=l=>("navigateTo"in e?e.navigateTo:s(S))("/create-workspace"))},{default:_(()=>[Pe]),_:1})):u("",!0)]),T?(o(),n("div",Re,[(o(!0),n(oe,null,re((x=s(d))==null?void 0:x.myWorkspaces,(l,q)=>(o(),n("div",{key:`workspace_${q}`,class:ne(["user-workspaces__container",{small:T}])},[a("div",Ve,f(l.name),1),a("div",De,[v(i,{class:"user-workspaces__create-btn",onClick:Ge=>F(l.id)},{default:_(()=>[Ie]),_:2},1032,["onClick"]),v(i,{class:"user-workspaces__icon-btn"},{default:_(()=>[Ne]),_:1})])],2))),128))])):s(d)&&!s(d).length?(o(),n("div",Oe,[v(i,{class:"user-workspaces__create-btn",style:{position:"absolute"},onClick:t[4]||(t[4]=l=>("navigateTo"in e?e.navigateTo:s(S))("/create-workspace"))},{default:_(()=>[ze]),_:1}),a("div",Be,[a("span",{innerHTML:A()},null,8,Fe)])])):u("",!0),s(L)?(o(),n("div",Me,He)):u("",!0)])])])),[[b,s(V),void 0,{fullscreen:!0,lock:!0}]]),s(g)?(o(),j(_e,{key:0,dialogVisible:s(g),onClose:t[5]||(t[5]=l=>g.value=!1)},null,8,["dialogVisible"])):u("",!0)])}}},cs=me(qe,[["__scopeId","data-v-575c8c37"]]);export{cs as default};
