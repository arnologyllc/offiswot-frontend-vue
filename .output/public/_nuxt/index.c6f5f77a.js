import{M as _e,t as ce,a as fe,b as ve,E as ge,c as be,d as ye,e as Ve,_ as he,f as xe}from"./timezones.8a38edf4.js";import{E as Ee,a as ke,b as we}from"./el-dropdown.5f230cfb.js";import{E as Ue,b as Ne,a as Se}from"./el-overlay.762be8f4.js";import{E as De,a as Ce}from"./el-select.2dbbdeb7.js";import{E as Le}from"./el-button.2cb36390.js";/* empty css                        */import"./el-popper.959b0d45.js";import"./el-scrollbar.f03ebbd8.js";import{A as Me,s as $e,r as m,w as U,e as Pe,h as p,u as t,c as y,j as a,k as Re,l as c,o as u,i as l,p as i,v as Z,B as J,t as V,F,q as I,z as N,m as Te,C as Ae,x as Fe,y as Ie}from"./entry.3ab378a4.js";import{_ as Ye}from"./chevron-dark-icon.9cf2d50b.js";import{d as K}from"./default-user-icon.f7e80eba.js";import{_ as ze}from"./AccessCheckModal.098d055e.js";import Be from"./auth.6cad1773.js";import Oe from"./settingsToken.5c6cdfe7.js";import je from"./loginToken.f7d57a27.js";import{_ as He}from"./_plugin-vue_export-helper.c27b6911.js";import"./focus-trap.7e8c793f.js";import"./_commonjsHelpers.042e6b4d.js";import"./flatten.f98acce6.js";import"./debounce.18a18c8e.js";import"./isEqual.59079216.js";import"./email-primary-icon.4adf2e14.js";import"./eye-close-icon.0e4f6dd9.js";const f=h=>(Fe("data-v-dc51e85d"),h=h(),Ie(),h),qe={class:"main"},Ge={span:24,class:"main__title"},We={class:"main__title__div"},Ze=f(()=>i("span",{class:"main__subtitle__span"}," You can manage different accounts from one place ",-1)),Je=["src"],Ke=f(()=>i("img",{src:he,alt:"edit",class:"avatar-edit_button"},null,-1)),Qe={class:"main__form--info"},Xe={key:0,class:"main__form--info__title"},ea={key:1,class:"main__form--info__subtitle"},aa=f(()=>i("span",{for:"full_name",class:"custom_placeholder"}," Full Name ",-1)),la=[aa],ta=f(()=>i("span",{for:"experience",class:"custom_placeholder"}," Years of experience ",-1)),sa=[ta],oa=f(()=>i("span",{for:"display_name",class:"custom_placeholder"}," Display Name ",-1)),na=[oa],ia={class:"main__form--upload__cv-box"},ua=f(()=>i("span",null,null,-1)),ra={class:"main__form--upload__cv"},da={class:"text-primary"},ma=f(()=>i("div",null,[i("img",{src:xe,alt:"d"}),i("span",{class:"text-primary"},"Upload CV"),i("span",{class:"hint"},"(.pdf)")],-1)),pa={class:"submit-button__text"},_a={__name:"index",setup(h){const Y=Te(),v=Me(),{profileSuccessData:g,profileFailureData:Q,isLoadingSubmit:z,editProfileData:S,editFailureData:X}=$e(v);Be();const o=m({full_name:null,display_name:null,lastname:null,date_of_birth:null,gender:null,phone_number:null,speciality_id:null,languagesList:null,experience:null,timezone:null,cv:null,avatar:null}),ee=m([{name:"EN",id:"EN"},{name:"RU",id:"RU"},{name:"HY",id:"HY"}]),D=m(null),C=m(null),x=m(null),E=m(!1),B=m(null),ae=m(null),b=m(null),L=m(K),O=Ae(),k=e=>{e!=null&&e.user.email&&(D.value=e.user.email),e!=null&&e.user.full_name&&(C.value=e.user.full_name),e!=null&&e.user.display_name&&(x.value=e.user.display_name),e!=null&&e.user.avatar?L.value=e.avatarPath.includes(O.public.env.serverUrl)?`${e.avatarPath}/${e.user.avatar}`:`${O.public.env.serverUrl}${e.avatarPath}/${e.user.avatar}`:L.value=K;for(const s in o.value)!isNaN(e==null?void 0:e.user[s])&&(e!=null&&e.user[s])?o.value[s]=+(e==null?void 0:e.user[s]):o.value[s]=e==null?void 0:e.user[s];e!=null&&e.user.languages&&(o.value.languagesList=e==null?void 0:e.user.languages.split(",")),o.value.phone_number&&(o.value.phone_number=o.value.phone_number.toString())},M=m(!0),le=()=>{M.value=window.innerWidth<400,Y.update()},$=e=>{Y.refs[e].focus()};U(S,e=>{k(e)}),U(Q,e=>{}),U(X,e=>{}),U(g,e=>k(e)),Pe(()=>{S.value?k(S.value):g.value?k(g.value):v.getProfile(),b.value=je(),b.value=Oe(),window.addEventListener("resize",le),M.value=window.innerWidth<400});const te=(e,s)=>{o.value.avatar=s.raw,B.value=URL.createObjectURL(s.raw),v.editProfile(o.value)},se=(e,s)=>{o.value.cv=s.raw,ae.value=URL.createObjectURL(s.raw),v.editProfile(o.value)},oe=()=>{o.value.avatar="default",B.value="default",v.editProfile(o.value)},ne=()=>{v.editProfile(o.value)},j=()=>{E.value="hovered"},H=()=>{E.value=!1};return(e,s)=>{const r=fe,_=ve,q=Ee,G=ge,ie=ke,ue=we,d=Ne,P=Se,R=De,T=Ce,W=Le,re=be,A=ye,de=Ve,me=Ue;return u(),p("div",qe,[t(g)?(u(),y(me,{key:0,ref:"editForm",class:"main__form","hide-required-asterisk":"","label-position":"top",model:t(o),onSubmit:Re(ne,["prevent"])},{default:a(()=>[l(_,null,{default:a(()=>[l(r,{span:24},{default:a(()=>[i("div",Ge,[i("div",We,[i("img",{src:Ye,class:"go-back__icon",alt:"",onClick:s[0]||(s[0]=n=>("navigateTo"in e?e.navigateTo:t(Z))("/"))}),i("span",{class:"main__title__span",onClick:s[1]||(s[1]=n=>("navigateTo"in e?e.navigateTo:t(Z))("/profile"))}," Edit your profile ")]),Ze])]),_:1})]),_:1}),l(_,null,{default:a(()=>[l(r,{xs:{span:24},sm:{span:12},md:{span:8},class:"main__form--picture"},{default:a(()=>[l(d,{prop:"avatar"},{default:a(()=>[i("img",{src:t(L),alt:"avatar"},null,8,Je),l(ue,{class:"el-upload--text"},{dropdown:a(()=>[l(ie,{class:"avatar-edit_actions"},{default:a(()=>[l(G,{modelValue:t(o).avatar,"onUpdate:modelValue":s[2]||(s[2]=n=>t(o).avatar=n),"show-file-list":!1,class:"main__form--upload",action:"#",accept:"image/*","on-success":te},{default:a(()=>[l(q,{class:"avatar-edit_actions-element",onMouseover:j,onMouseout:H},{default:a(()=>[i("span",{class:J(t(E))}," Edit ",2)]),_:1})]),_:1},8,["modelValue"]),l(q,{class:"avatar-edit_actions-element",onMouseover:j,onMouseout:H},{default:a(()=>[i("span",{class:J(t(E)),onClick:oe}," Delete ",2)]),_:1})]),_:1})]),default:a(()=>[Ke]),_:1})]),_:1}),i("div",Qe,[t(C)||t(x)?(u(),p("span",Xe,V(t(x)?t(x):t(C)),1)):c("",!0),t(D)?(u(),p("span",ea,V(t(D)),1)):c("",!0)])]),_:1})]),_:1}),l(_,{gutter:70},{default:a(()=>[l(r,{xs:{span:24},sm:{span:12},md:{span:8}},{default:a(()=>[l(d,{prop:"name"},{default:a(()=>[l(P,{ref:"full_name",modelValue:t(o).full_name,"onUpdate:modelValue":s[4]||(s[4]=n=>t(o).full_name=n),class:"main__form--input",placeholder:"Full Name"},{suffix:a(()=>[t(o).full_name?(u(),p("div",{key:0,style:{position:"relative"},onClick:s[3]||(s[3]=n=>$("full_name"))},la)):c("",!0)]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(r,{xs:{span:24},sm:{span:12},md:{span:8}},{default:a(()=>[l(d,{prop:"phone_number"},{default:a(()=>[l(t(_e),{ref:"phoneNumber",modelValue:t(o).phone_number,"onUpdate:modelValue":s[5]||(s[5]=n=>t(o).phone_number=n),class:"main__form--phone-number","default-country-code":"AM","no-example":"","no-validation":"","no-country-selector":t(M),"countries-height":"48","border-radius":"0",width:"320px"},null,8,["modelValue","no-country-selector"])]),_:1})]),_:1}),l(r,{xs:{span:24},sm:{span:12},md:{span:8}},{default:a(()=>[l(d,{prop:"experience"},{default:a(()=>[l(P,{ref:"experience",modelValue:t(o).experience,"onUpdate:modelValue":s[7]||(s[7]=n=>t(o).experience=n),type:"number",class:"main__form--input",placeholder:"Years of experience"},{suffix:a(()=>[t(o).experience?(u(),p("div",{key:0,style:{position:"relative"},onClick:s[6]||(s[6]=n=>$("experience"))},sa)):c("",!0)]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(_,{gutter:70},{default:a(()=>[l(r,{xs:{span:24},sm:{span:12},md:{span:8}},{default:a(()=>[l(d,{prop:"display_name"},{default:a(()=>[l(P,{ref:"display_name",modelValue:t(o).display_name,"onUpdate:modelValue":s[9]||(s[9]=n=>t(o).display_name=n),class:"main__form--input",placeholder:"Display Name"},{suffix:a(()=>[t(o).display_name?(u(),p("div",{key:0,style:{position:"relative"},onClick:s[8]||(s[8]=n=>$("display_name"))},na)):c("",!0)]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(r,{xs:{span:24},sm:{span:12},md:{span:8}},{default:a(()=>[l(d,{prop:"languages"},{default:a(()=>[l(T,{ref:"languagesList",modelValue:t(o).languagesList,"onUpdate:modelValue":s[10]||(s[10]=n=>t(o).languagesList=n),multiple:"",class:"main__form--input select",placeholder:"Languages",filterable:!0},{default:a(()=>[(u(!0),p(F,null,I(t(ee),(n,w)=>(u(),y(R,{key:`lang_${w}`,value:n.id,label:n.name},null,8,["value","label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(r,{xs:{span:24},sm:{span:12},md:{span:8}},{default:a(()=>[l(d,{prop:"cv",class:"main__form--cv-item"},{default:a(()=>[i("div",ia,[l(G,{modelValue:t(o).cv,"onUpdate:modelValue":s[11]||(s[11]=n=>t(o).cv=n),"show-file-list":!1,class:"main__form--upload",action:"#","on-success":se},{default:a(()=>[ua,l(W,null,{default:a(()=>[i("div",ra,[i("div",null,[i("span",da,V(t(o).cv?t(o).cv:""),1)]),ma])]),_:1})]),_:1},8,["modelValue"])])]),_:1})]),_:1})]),_:1}),l(_,{gutter:70},{default:a(()=>[l(r,{xs:{span:24},sm:{span:12},md:{span:8}},{default:a(()=>[l(d,{prop:"date_of_birth"},{default:a(()=>[l(re,{modelValue:t(o).date_of_birth,"onUpdate:modelValue":s[12]||(s[12]=n=>t(o).date_of_birth=n),class:"main__form--input date-picker",type:"date","value-format":"YYYY-MM-DD",placeholder:"Date of birth"},null,8,["modelValue"])]),_:1})]),_:1}),l(r,{xs:{span:24},sm:{span:12},md:{span:8}},{default:a(()=>[l(d,{prop:"timezone"},{default:a(()=>[l(T,{modelValue:t(o).timezone,"onUpdate:modelValue":s[13]||(s[13]=n=>t(o).timezone=n),class:"main__form--input select",placeholder:"Timezone",filterable:!0},{default:a(()=>[(u(!0),p(F,null,I(t(ce),n=>(u(),y(R,{key:`time_${n.VALUE}`,value:n.NAME.replace(", ","/")},{default:a(()=>[N(V("GMT"+(n.VALUE==="0"?"+":"")+n.VALUE+" ("+n.NAME+")"),1)]),_:2},1032,["value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(_,{gutter:70},{default:a(()=>[l(r,{xs:{span:24},sm:{span:12},md:{span:8},style:{display:"flex","align-items":"center","justify-content":"center"}},{default:a(()=>[l(d,{prop:"gender"},{default:a(()=>[l(de,{modelValue:t(o).gender,"onUpdate:modelValue":s[14]||(s[14]=n=>t(o).gender=n),class:"main__form--radio-group"},{default:a(()=>[l(A,{label:"male"},{default:a(()=>[N("Male")]),_:1}),l(A,{label:"female"},{default:a(()=>[N("Female")]),_:1}),l(A,{label:"other"},{default:a(()=>[N("Other")]),_:1})]),_:1},8,["modelValue"])]),_:1})]),_:1}),l(r,{xs:{span:24},sm:{span:12},md:{span:8}},{default:a(()=>[l(d,{prop:"speciality_id"},{default:a(()=>[l(T,{modelValue:t(o).speciality_id,"onUpdate:modelValue":s[15]||(s[15]=n=>t(o).speciality_id=n),class:"main__form--input select",filterable:!0,placeholder:"Speciality"},{default:a(()=>{var n;return[(u(!0),p(F,null,I((n=t(g))==null?void 0:n.specialties,(w,pe)=>(u(),y(R,{key:`spec_${pe}`,value:w.id,label:w.name},null,8,["value","label"]))),128))]}),_:1},8,["modelValue"])]),_:1})]),_:1})]),_:1}),l(_,{class:"main__form--actions"},{default:a(()=>[l(r,{span:24,class:"submit-button__box"},{default:a(()=>[l(W,{class:"submit-button","native-type":"submit",loading:t(z)},{default:a(()=>[i("span",pa,V(t(z)?"":"Save"),1)]),_:1},8,["loading"])]),_:1})]),_:1})]),_:1},8,["model","onSubmit"])):c("",!0),t(b)?(u(),y(ze,{key:1,"dialog-visible":t(b),onClose:s[16]||(s[16]=n=>b.value=!1)},null,8,["dialog-visible"])):c("",!0)])}}},Aa=He(_a,[["__scopeId","data-v-dc51e85d"]]);export{Aa as default};
