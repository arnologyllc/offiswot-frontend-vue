import{E as W}from"./el-input.7fd03793.js";import{E as A,_ as x,a as N}from"./el-overlay.64de5399.js";import"./el-button.6d07ff3a.js";import"./el-form-item.4ed993c7.js";import{z as O,B as T,s as S,r as w,w as E,e as U,f as d,m as t,h as v,i as f,u as l,j as X,c as k,k as n,o as r,t as y,x as G,y as H,l as J}from"./entry.1c65c56b.js";import{_ as K}from"./email-icon.c4998d4e.js";import{L as Q}from"./LoginButtons.107bf4a0.js";import{_ as Y}from"./OvConfirmPasswordChangeModal.0182abfe.js";import{E as Z}from"./ErrorMassageModal.180b4dfd.js";import{_ as ee}from"./_plugin-vue_export-helper.c27b6911.js";import"./focus-trap.cf142168.js";import"./refs.6073550b.js";import"./chevron-icon.1bc5d74d.js";import"./email-primary-icon.754ea29f.js";const m=c=>(G("data-v-907084e2"),c=c(),H(),c),oe={class:"main"},se={class:"main__form"},le=m(()=>t("div",{class:"main__form--title"},"Forgot password",-1)),te=m(()=>t("div",{class:"main__form--subtitle"}," Please fill the forms to get a reset password email. ",-1)),ie={key:0,class:"el-form-item__global-error-container"},ae={class:"el-form-item__global-error"},re=m(()=>t("img",{src:x,alt:""},null,-1)),ne=m(()=>t("img",{src:K,alt:"user_icon"},null,-1)),me=m(()=>t("span",{for:"email",class:"custom_placeholder"}," Email",-1)),ue=[me],_e={key:0,class:"el-form-item__error"},de=m(()=>t("div",null,null,-1)),fe={__name:"forgot",setup(c){const g=J(),b=O(),C=T(),{forgotSuccessData:F,forgotErrorData:$,forgotLoading:B}=S(b),{profileSuccessData:h}=S(C),i=w({email:null}),I={email:[{required:!0,message:"Email is required",trigger:"blur"},{type:"email",message:"Email is not valid",trigger:"blur"}]},s=w({email:{value:"",isShow:!1},global:{value:""}}),p=w(!1),V=()=>{g.refs.forgotForm.validate(o=>{if(o)b.forgotPassword(i.value);else return!1})},D=o=>{g.refs.forgotForm.validateField(o,(e,_)=>{e?s.value[o].value="":s.value[o].value=_[o][0].message})},M=o=>{s.value[o].isShow=!0},L=o=>{u()&&(s.value[o].isShow=!0)},q=o=>{u()&&(s.value[o].isShow=!1)},z=()=>{g.update()},u=()=>window.innerWidth>990,P=()=>{s.value.global.value=""};return E(F,o=>{var e;i.value.email=(e=h.value)==null?void 0:e.user.email,p.value=!0}),E($,o=>{if(typeof o!="string")for(const e in o)if(typeof o[e]!="string")for(const _ in o[e])s.value.global.value=o[e][_];else s.value.global.value=o[e]}),U(()=>{var o,e;(o=h.value)!=null&&o.user.email&&(i.value.email=(e=h.value)==null?void 0:e.user.email),window.addEventListener("resize",z)}),(o,e)=>{const _=W,j=N,R=A;return r(),d("div",oe,[t("div",se,[le,te,v(R,{ref:"forgotForm",class:"main__form--box","hide-required-asterisk":"",model:l(i),rules:I,onSubmit:X(V,["prevent"])},{default:f(()=>[l(s).global.value?(r(),d("div",ie,[t("div",ae,[re,t("span",null,y(l(s).global.value),1)]),t("span",{class:"clear-error",onClick:P},"X")])):n("",!0),v(j,{prop:"email"},{error:f(()=>[l(s).email.isShow&&u()?(r(),d("div",_e,[t("span",null,y(l(s).email.value),1)])):n("",!0),de]),default:f(()=>[v(_,{modelValue:l(i).email,"onUpdate:modelValue":e[4]||(e[4]=a=>l(i).email=a),class:"main__form--box__input",placeholder:"E-mail",onBlur:e[5]||(e[5]=a=>D("email"))},{prefix:f(()=>[ne]),suffix:f(()=>[l(i).email?(r(),d("div",{key:0,style:{position:"relative"},onClick:e[0]||(e[0]=a=>o.focusElement("email"))},ue)):n("",!0),l(s).email.value?(r(),d("img",{key:1,class:"error_icon",src:x,alt:"",onClick:e[1]||(e[1]=a=>M("email")),onMouseover:e[2]||(e[2]=a=>L("email")),onMouseout:e[3]||(e[3]=a=>q("email"))},null,32)):n("",!0)]),_:1},8,["modelValue"])]),_:1}),v(Q,{"login-title":"Next","login-loading":l(B),"show-social":!1},null,8,["login-loading"])]),_:1},8,["model","onSubmit"])]),l(s).email.isShow&&!u()?(r(),k(Z,{key:0,"dialog-visible":l(s).email.isShow&&!u(),"error-text":l(s).email.value,onVisible:e[6]||(e[6]=a=>l(s).email.isShow=!1)},null,8,["dialog-visible","error-text"])):n("",!0),l(p)?(r(),k(Y,{key:1,email:l(i).email,"dialog-visible":l(p),onClose:e[7]||(e[7]=a=>p.value=!1)},null,8,["email","dialog-visible"])):n("",!0)])}}},$e=ee(fe,[["__scopeId","data-v-907084e2"]]);export{$e as default};
