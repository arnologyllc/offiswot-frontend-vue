import{bX as g,c0 as o,v as r}from"./entry.02f4b0bd.js";const v=g((_,p)=>{var s,l;const a=o("token");{const n=localStorage.getItem("accounts")!=="undefined"&&localStorage.getItem("accounts")!==null?(l=(s=JSON.parse(localStorage.getItem("accounts")))==null?void 0:s.map(e=>(Date.parse(e.token_expires)<new Date&&(e.token=null,e.token_expires=null,e.settings_pin_token=null),e)))==null?void 0:l.filter(e=>Date.parse(e.login_pin_token_expires)>new Date||Date.parse(e.token_expires)>new Date):[];if(localStorage.setItem("accounts",JSON.stringify(n)),!a._value){const e=o("first_login"),i=o("settings_pin_token"),u=o("login_pin_token"),c=o("currentAccountID"),t=n.findIndex(k=>k.token);n[t]?(e.value=n[t].firstToken,a.value=n[t].token,i.value=n[t].settings_pin_token,u.value=n[t].login_pin_token,c.value=0,r("/")):(e.value=null,i.value=null,u.value=null,c.value=null,r("/login"))}}});export{v as default};
