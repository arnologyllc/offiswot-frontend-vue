import{E as K}from"./el-button.6d07ff3a.js";import{E as Q,v as X}from"./el-loading.0bf2b1a2.js";import{B as Z,s as ee,r,w as L,e as se,L as ae,f as n,S as te,u as s,m as a,N as V,t as v,k as u,c as j,i as _,h as k,F as oe,p as re,l as ne,o,v as h,q as ie,A as le,x as ce,y as ue,aa as _e}from"./entry.1c65c56b.js";import{_ as B}from"./edit-icon.bc5e72d1.js";import{d as P}from"./default-user-icon.998e679a.js";import{_ as de}from"./AccessCheckModal.46cf6b5b.js";import pe from"./settingsToken.644b8451.js";import me from"./loginToken.3edc705a.js";import fe from"./auth.3b6594a0.js";import{_ as ve}from"./_plugin-vue_export-helper.c27b6911.js";import"./focus-trap.cf142168.js";import"./el-input.7fd03793.js";import"./el-overlay.64de5399.js";import"./refs.6073550b.js";import"./el-form-item.4ed993c7.js";import"./js.cookie.edb2da2a.js";import"./nuxt-storage.min.d80392db.js";import"./_commonjsHelpers.042e6b4d.js";import"./email-primary-icon.754ea29f.js";import"./eye-close-icon.f5ebd9e6.js";const ke=""+new URL("email1-icon.ced79935.svg",import.meta.url).href,he=""+new URL("phone-icon.1b07dd61.svg",import.meta.url).href;const c=g=>(ce("data-v-374e0b2f"),g=g(),ue(),g),ge={class:"main"},we={class:"main__user-container"},be=c(()=>a("div",{class:"user-box__title"},"Your Profile",-1)),ye=["src"],xe={class:"user-box__user-info"},Te={class:"user-box__user-fullname user-box__title"},Ce={key:0,class:"user-box__user-fullname-span"},$e=c(()=>a("span",null,"Edit Profile",-1)),Se={key:0,class:"user-box__specialty"},We={class:"user-box__flex-box"},Ee=c(()=>a("img",{src:ke,alt:"email_icon"},null,-1)),Le={class:"user-box__flex-box"},je={key:0,style:{"margin-bottom":"3px"},src:he,alt:"phone_icon"},Pe={class:"user-workspaces"},Ue={class:"user-workspaces__header"},De=c(()=>a("div",{class:"user-workspaces__title"},"your workspaces",-1)),Ne=c(()=>a("span",null,"+ Create workspace",-1)),Ie={key:0},Re={class:"user-workspaces__workspace-name"},Ve={class:"user-workspaces__buttons"},Be=c(()=>a("span",null,"Open",-1)),Oe=c(()=>a("img",{src:B,alt:"edit_icon"},null,-1)),ze={key:1,class:"user-workspaces__container"},Fe=c(()=>a("span",null,"Create",-1)),Ae={class:"user-workspaces__container-text"},Me=["innerHTML"],He={key:2,class:"user-workspaces__header-bottom"},qe=c(()=>a("div",{class:"user-workspaces__title"},"participate in workspace",-1)),Ye=[qe],Ge={__name:"index",setup(g){const w=Z(),{profileLoading:O,profileSuccessData:S,editProfileData:U,workspacesSuccessData:z}=ee(w),F=ne(),A=_e(),b=r(null),y=r({avatar:null}),d=r(null),p=r(null),W=r(null),D=r(null),m=r(null),N=r(null),E=r(null),f=r(P),M=r(null),I=e=>{var t;if(e){e.user.avatar?f.value=`${A.public.env.serverUrl}${e.avatarPath}/${e.user.avatar}`:f.value=P;const[i,T,C]=[e.user.name?e.user.name:"",e.user.lastname?e.user.lastname:"",e.user.surname?e.user.surname:""];(i||T||C)&&(p.value=`${i} ${T} ${C}`),W.value=e.user.phone_number,D.value=e.user.invite_workspaces.length,N.value=e.user.email,m.value=(t=e.specialties.find($=>$.id===e.user.speciality_id))==null?void 0:t.name}},H=e=>{b.value=e};L(S,e=>I(e)),L(U,e=>{e.user.avatar?f.value=`${e.avatarPath}/${e.user.avatar}`:f.value=P}),L(z,e=>H(e)),se(async()=>{fe(),d.value=me(),d.value=pe(),!S.value||U.value?w.getProfile():I(S.value),await w.getWorkSpaces(),window.addEventListener("resize",Y),E.value=R()});const x=ae(()=>b.value&&b.value.myWorkspaces.length),q=e=>{h(`/workspace/staff/${e}`)},Y=()=>{E.value=R(),F.update()},R=()=>window.innerWidth>935?`Thanks for joining Offiswot!<br /><br />
            Create a workspace for your team or company using our productivity platform.<br/>Enjoy collaborating with each other easily and managing yourteam members and the projects effectively.`:window.innerWidth<=935&&window.innerWidth>628?`Thanks for joining Offiswot!<br /><br />
            Create a workspace for your team or company using our productivity platform. Enjoy collaborating with each other easily and managing yourteam members and the projects effectively.`:`Thanks for<br /> joining Offiswot!<br /><br />
            Create a workspace for your team or company using our productivity platform. Enjoy collaborating with each other easily and managing yourteam members and the projects effectively.`,G=(e,t)=>{y.value.avatar=t.raw,M.value=URL.createObjectURL(t.raw),w.editProfile(y.value)};return(e,t)=>{var $;const i=K,T=Q,C=X;return o(),n("div",null,[te((o(),n("div",ge,[a("div",we,[be,a("div",{style:V(s(p)&&s(m)?"":"align-items:center;"),class:"user-box__info"},[a("img",{class:"user-box__avatar",src:s(f),alt:"user_avatar"},null,8,ye),a("div",xe,[a("div",Te,[s(p)?(o(),n("span",Ce,v(s(p)),1)):u("",!0),s(p)?(o(),n("img",{key:1,class:"user-box__user-edit-icon",src:B,alt:"edit_icon",onClick:t[0]||(t[0]=l=>("navigateTo"in e?e.navigateTo:s(h))("/profile/edit"))})):(o(),j(i,{key:2,class:"user-box__user-edit-btn",onClick:t[1]||(t[1]=l=>("navigateTo"in e?e.navigateTo:s(h))("/profile/edit"))},{default:_(()=>[$e]),_:1}))]),s(m)?(o(),n("div",Se,v(s(m)),1)):u("",!0),a("div",{class:"user-box__credentials",style:V(s(m)?"padding-top:30px":"padding-top:15px")},[a("div",We,[Ee,a("div",null,v(s(N)),1)]),a("div",Le,[s(W)?(o(),n("img",je)):u("",!0),a("div",null,v(s(W)),1)])],4)])],4),k(T,{modelValue:s(y).avatar,"onUpdate:modelValue":t[2]||(t[2]=l=>s(y).avatar=l),"show-file-list":!1,class:"main__form--upload",action:"#",accept:"image/*","on-success":G},{default:_(()=>[k(i,{class:"change-picture"},{default:_(()=>[ie("Change picture")]),_:1})]),_:1},8,["modelValue"]),a("div",Pe,[a("div",Ue,[De,s(x)?(o(),j(i,{key:0,class:"user-workspaces__create-btn-outline",onClick:t[3]||(t[3]=l=>("navigateTo"in e?e.navigateTo:s(h))("/create-workspace"))},{default:_(()=>[Ne]),_:1})):u("",!0)]),s(x)?(o(),n("div",Ie,[(o(!0),n(oe,null,re(($=s(b))==null?void 0:$.myWorkspaces,(l,J)=>(o(),n("div",{key:`workspace_${J}`,class:le(["user-workspaces__container",{small:s(x)}])},[a("div",Re,v(l.name),1),a("div",Ve,[k(i,{class:"user-workspaces__create-btn",onClick:Je=>q(l.id)},{default:_(()=>[Be]),_:2},1032,["onClick"]),k(i,{class:"user-workspaces__icon-btn"},{default:_(()=>[Oe]),_:1})])],2))),128))])):s(x)?u("",!0):(o(),n("div",ze,[k(i,{class:"user-workspaces__create-btn",style:{position:"absolute"},onClick:t[4]||(t[4]=l=>("navigateTo"in e?e.navigateTo:s(h))("/create-workspace"))},{default:_(()=>[Fe]),_:1}),a("div",Ae,[a("span",{innerHTML:s(E)},null,8,Me)])])),s(D)?(o(),n("div",He,Ye)):u("",!0)])])])),[[C,s(O),void 0,{fullscreen:!0,lock:!0}]]),s(d)?(o(),j(de,{key:0,"dialog-visible":s(d),onClose:t[5]||(t[5]=l=>d.value=!1)},null,8,["dialog-visible"])):u("",!0)])}}},vs=ve(Ge,[["__scopeId","data-v-374e0b2f"]]);export{vs as default};
