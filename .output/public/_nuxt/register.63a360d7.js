import{E as G,_ as S,a as O,b as X}from"./el-overlay.1dfa5af6.js";import"./el-button.d70bea62.js";import{G as J,s as K,r as c,e as Q,w as L,h as u,i as r,j as w,k as d,u as s,l as Y,c as k,m,p as N,o as i,t as I,B as E,v as ee,x as se,z as oe}from"./entry.5f1d1580.js";import{_ as te}from"./email-icon.63137065.js";import{_ as le,a as re}from"./OvConfirmEmailModal.b2bfc1cd.js";import{_ as q,a as ie}from"./good.8fbd0876.js";import{_ as z}from"./lock-icon.ba2728cc.js";import{L as ne}from"./LoginButtons.3753a0c9.js";import{E as V}from"./ErrorMassageModal.5752f234.js";import{h as B,s as F}from"./eye-close-icon.5b83d1d5.js";import{_ as ae}from"./_plugin-vue_export-helper.c27b6911.js";import"./focus-trap.6fbf02b7.js";import"./email-primary-icon.cfc345b0.js";import"./chevron-icon.ef7511c5.js";const _=x=>(ee("data-v-d7c03b03"),x=x(),se(),x),ue={class:"main"},me={class:"main__form"},de=_(()=>r("div",{class:"main__form--title"},"Register",-1)),_e=_(()=>r("div",{class:"main__form--subtitle"},"Please fill the forms to register",-1)),fe={key:0,class:"el-form-item__global-error-container"},pe={class:"el-form-item__global-error"},ve=_(()=>r("img",{src:S,alt:""},null,-1)),we=_(()=>r("img",{src:te,alt:"email_icon"},null,-1)),ge=_(()=>r("span",{for:"email",class:"custom_placeholder"}," Email ",-1)),ce=[ge],ye={key:0,class:"el-form-item__error"},be=_(()=>r("div",null,null,-1)),ke=_(()=>r("img",{src:re,alt:"user_icon"},null,-1)),Se={key:0,src:q,alt:""},xe={key:1,src:S,alt:""},he={key:0,class:"el-form-item__error strength warning"},$e=["innerHTML"],Me={key:0,class:"el-form-item__error"},Ce=["innerHTML"],Ee=_(()=>r("div",null,null,-1)),Ve=_(()=>r("img",{src:z,alt:"password_icon"},null,-1)),Pe=_(()=>r("span",{for:"password",class:"custom_placeholder"}," Password ",-1)),Te=[Pe],Le=["src"],Ie={key:0,src:q,alt:""},Be={key:1,src:ie,alt:""},Fe={key:2,src:S,alt:""},qe=["innerHTML"],ze=_(()=>r("div",null,null,-1)),Ae=_(()=>r("img",{src:z,alt:"password_icon"},null,-1)),He=_(()=>r("span",{for:"password_confirmation",class:"custom_placeholder"}," Confirm Password ",-1)),Re=[He],We=["src"],Ue={key:0,class:"el-form-item__error"},De=["innerHTML"],Ze=_(()=>r("div",null,null,-1)),je=_(()=>r("div",{class:"terms"},[r("span",null,[oe("By signing up you agree on our "),r("u",null,"Term and Conditions")])],-1)),Ge={__name:"register",setup(x){const P=J(),{registerFailureData:A,registerSuccessData:H}=K(P),y=N(),h=c(!1),$=c(!1),b=c(!1),T=c(!1),n=c({email:null,full_name:null,password:null,password_confirmation:null}),o=c({email:{value:"",isShow:!1},full_name:{value:"",status:null,isShow:!1},password:{value:"",status:null,isShow:!1},password_confirmation:{value:"",isShow:!1},global:{value:null}}),R=c({email:[{required:!0,message:"This field is required.",trigger:"blur"},{type:"email",message:"Email is not valid.",trigger:"blur"}],full_name:[{required:!0,message:"This field is required.",trigger:"blur"}],password:[{validator:(t,e,a)=>{e||a(new Error("This field is required"));const v=Z(e);v==="Weak"?(a(new Error("Password strength: <b>Weak</b>")),o.value.password.status="Weak"):v==="Medium"?(a(),o.value.password.status="Medium",o.value.password.value="Password strength: <b>Medium</b>"):v==="Strong"&&(a(),o.value.password.status="Strong",o.value.password.value="Password strength: <b>Strong</b>")},trigger:"input"}],password_confirmation:[{required:!0,message:"This field is required.",trigger:"blur"},{validator:(t,e,a)=>{e===""?a(new Error("Please input the password again")):e!==n.value.password?a(new Error("Password and confirm password do not match")):a()},trigger:"blur"}]});Q(()=>{window.addEventListener("resize",U)});const W=()=>{y.refs.registerForm.validate((t,...e)=>{if(t)P.registerUser(n.value);else return!1})},M=t=>{y.refs[t].focus()},g=t=>{y.refs.registerForm.validateField(t,(e,a)=>{(o.value[t].status!=="Medium"&&t==="full_name"||t!=="full_name")&&(e?t!=="password"&&(o.value[t].value=""):o.value[t].value=a[t][0].message)}),Object.values(n.value).every(e=>e)&&y.refs.registerForm.validate(e=>T.value=e)},p=(t,e)=>{f()?o.value[t].isShow=e==="mouseover":e==="click"&&(o.value[t].isShow=!0)},U=()=>{y.update()},f=()=>window.innerWidth>990,D=()=>{o.value.global.value=""},Z=t=>{const e=/^(?=.*[a-zA-Z])(?=.*[\d!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?])[a-zA-Z\d!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]{8,}$/,a=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(?=.*[\d!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?])[a-zA-Z\d!@#$%^&*()_+\-=[\]{};':"\\|,.<>/?]{12,}$/,v=/^(?:(.)(?!\1{3}))*$/,C=["password","admin","qwerty","asdfgh","xzcvb"];if(v.test(t)&&((t==null?void 0:t.length)>15||!C.some(l=>t==null?void 0:t.toLowerCase().includes(l)))){if(a.test(t)&&((t==null?void 0:t.length)>25||!C.some(l=>t.toLowerCase().includes(l))))return"Strong";if(e.test(t))return"Medium"}return"Weak"},j=()=>{switch(o.value.password.status){case"Medium":return"warning";case"Strong":return"done";default:return""}};return L(H,t=>{b.value=!0}),L(A,t=>{if(t==="Account exists, please login."&&(o.value.global.value=t),t==="Email already exists but is not verified."&&(b.value=!0),typeof t!="string")for(const e in t)if(typeof t[e]!="string")for(const a in t[e])o.value.global.value=t[e][a];else o.value.global.value=t[e];else o.value.global.value=t}),(t,e)=>{const a=O,v=X,C=G;return i(),u("div",ue,[r("div",me,[de,_e,w(C,{ref:"registerForm",class:"main__form--box","hide-required-asterisk":"",autocomplate:"new-password",model:s(n),rules:s(R),onSubmit:Y(W,["prevent"])},{default:d(()=>[s(o).global.value?(i(),u("div",fe,[r("div",pe,[ve,r("span",null,I(s(o).global.value),1)]),r("span",{class:"clear-error",onClick:D},"X")])):m("",!0),w(v,{prop:"email",class:"form-item"},{error:d(()=>[s(o).email.isShow&&f()?(i(),u("div",ye,[r("span",null,I(s(o).email.value),1)])):m("",!0),be]),default:d(()=>[w(a,{ref:"email",modelValue:s(n).email,"onUpdate:modelValue":e[4]||(e[4]=l=>s(n).email=l),class:"main__form--box__input",placeholder:"Email",onInput:e[5]||(e[5]=l=>g("email")),onBlur:e[6]||(e[6]=l=>g("email"))},{prefix:d(()=>[we]),suffix:d(()=>[s(n).email?(i(),u("div",{key:0,style:{position:"relative"},onClick:e[0]||(e[0]=l=>M("email"))},ce)):m("",!0),s(o).email.value?(i(),u("img",{key:1,class:"error_icon",src:S,alt:"",onMouseover:e[1]||(e[1]=l=>p("email","mouseover")),onMouseout:e[2]||(e[2]=l=>p("email","mouseout")),onClick:e[3]||(e[3]=l=>p("email","click"))},null,32)):m("",!0)]),_:1},8,["modelValue"])]),_:1}),w(v,{prop:"full_name",class:"form-item"},{error:d(()=>[s(o).full_name.isShow&&f()?(i(),u("div",Me,[r("span",{innerHTML:s(o).full_name.value},null,8,Ce)])):m("",!0),Ee]),default:d(()=>[w(a,{ref:"full_name",modelValue:s(n).full_name,"onUpdate:modelValue":e[11]||(e[11]=l=>s(n).full_name=l),class:"main__form--box__input",placeholder:"Full Name",maxlength:"30",onInput:e[12]||(e[12]=l=>g("full_name")),onBlur:e[13]||(e[13]=l=>g("full_name"))},{prefix:d(()=>[ke]),suffix:d(()=>[s(n).full_name?(i(),u("div",{key:0,style:{position:"relative"},onClick:e[7]||(e[7]=l=>M("full_name"))},[r("span",{for:"full_name",class:E(["custom_placeholder",s(n).full_name?"active":""])}," Full Name ",2)])):m("",!0),s(o).full_name.value||s(o).full_name.status?(i(),u("div",{key:1,class:"error_icon",onMouseover:e[8]||(e[8]=l=>p("full_name","mouseover")),onMouseout:e[9]||(e[9]=l=>p("full_name","mouseout")),onClick:e[10]||(e[10]=l=>p("full_name","click"))},[s(o).full_name.status==="Medium"&&s(n).full_name?(i(),u("img",Se)):s(o).full_name.value?(i(),u("img",xe)):m("",!0)],32)):m("",!0)]),_:1},8,["modelValue"]),s(o).full_name.status==="Medium"&&s(o).full_name.isShow&&f()?(i(),u("div",he,[r("span",{innerHTML:s(o).full_name.value},null,8,$e)])):m("",!0)]),_:1}),w(v,{prop:"password",class:"form-item"},{error:d(()=>[ze]),default:d(()=>[w(a,{ref:"password",modelValue:s(n).password,"onUpdate:modelValue":e[19]||(e[19]=l=>s(n).password=l),class:"main__form--box__input",placeholder:"Password",type:s(h)?"text":"password",onInput:e[20]||(e[20]=l=>g("password")),onBlur:e[21]||(e[21]=l=>g("password"))},{prefix:d(()=>[Ve]),suffix:d(()=>[s(n).password?(i(),u("div",{key:0,style:{position:"relative"},onClick:e[14]||(e[14]=l=>M("password"))},Te)):m("",!0),r("img",{class:E(s(o).password.value?"eye_icon":""),src:s(h)?s(B):s(F),alt:"eye_icon",onClick:e[15]||(e[15]=l=>h.value=!s(h))},null,10,Le),s(o).password.value?(i(),u("div",{key:1,class:"error_icon",onMouseover:e[16]||(e[16]=l=>p("password","mouseover")),onMouseout:e[17]||(e[17]=l=>p("password","mouseout")),onClick:e[18]||(e[18]=l=>p("password","click"))},[s(o).password.status==="Medium"&&s(n).password?(i(),u("img",Ie)):s(o).password.status==="Strong"&&s(n).password?(i(),u("img",Be)):(i(),u("img",Fe))],32)):m("",!0)]),_:1},8,["modelValue","type"]),s(o).password.isShow&&f()?(i(),u("div",{key:0,class:E([j(),"el-form-item__error strength"])},[r("span",{innerHTML:s(o).password.value},null,8,qe)],2)):m("",!0)]),_:1}),w(v,{prop:"password_confirmation",class:"form-item"},{error:d(()=>[s(o).password_confirmation.isShow&&f()?(i(),u("div",Ue,[r("span",{innerHTML:s(o).password_confirmation.value},null,8,De)])):m("",!0),Ze]),default:d(()=>[w(a,{ref:"password_confirmation",modelValue:s(n).password_confirmation,"onUpdate:modelValue":e[27]||(e[27]=l=>s(n).password_confirmation=l),class:"main__form--box__input",placeholder:"Confirm password",type:s($)?"text":"password",onBlur:e[28]||(e[28]=l=>g("password_confirmation"))},{prefix:d(()=>[Ae]),suffix:d(()=>[s(n).password_confirmation?(i(),u("div",{key:0,style:{position:"relative"},onClick:e[22]||(e[22]=l=>M("password_confirmation"))},Re)):m("",!0),r("img",{class:E(s(o).password_confirmation.value?"eye_icon":""),src:s($)?s(B):s(F),alt:"eye_icon",onClick:e[23]||(e[23]=l=>$.value=!s($))},null,10,We),s(o).password_confirmation.value?(i(),u("img",{key:1,src:S,alt:"",class:"error_icon",onMouseover:e[24]||(e[24]=l=>p("password_confirmation","mouseover")),onMouseout:e[25]||(e[25]=l=>p("password_confirmation","mouseout")),onClick:e[26]||(e[26]=l=>p("password_confirmation","click"))},null,32)):m("",!0)]),_:1},8,["modelValue","type"])]),_:1}),je,w(ne,{"login-title":"Register","is-valid":s(T),"login-loading":s(P).registerLoading,"social-title":"Sign up with Google"},null,8,["is-valid","login-loading"])]),_:1},8,["model","rules","onSubmit"])]),s(b)?(i(),k(le,{key:0,email:s(n).email,"dialog-visible":s(b),onClose:e[29]||(e[29]=l=>b.value=!1)},null,8,["email","dialog-visible"])):m("",!0),s(o).email.isShow&&!f()?(i(),k(V,{key:1,"dialog-visible":s(o).email.isShow&&!f(),"error-text":s(o).email.value,onVisible:e[30]||(e[30]=l=>s(o).email.isShow=!1)},null,8,["dialog-visible","error-text"])):m("",!0),s(o).full_name.isShow&&!f()?(i(),k(V,{key:2,"dialog-visible":s(o).full_name.isShow&&!f(),"error-text":s(o).full_name.value,"text-color":s(o).full_name.status==="Medium"&&s(n).full_name?"warning":"weak",onVisible:e[31]||(e[31]=l=>s(o).full_name.isShow=!1)},null,8,["dialog-visible","error-text","text-color"])):m("",!0),s(o).password.isShow&&!f()?(i(),k(V,{key:3,"dialog-visible":s(o).password.isShow&&!f(),"error-text":s(o).password.value,"text-color":s(o).password.status==="Medium"&&s(n).password?"warning":s(o).password.status==="Strong"&&s(n).password?"done":"weak",onVisible:e[32]||(e[32]=l=>s(o).password.isShow=!1)},null,8,["dialog-visible","error-text","text-color"])):m("",!0),s(o).password_confirmation.isShow&&!f()?(i(),k(V,{key:4,"dialog-visible":s(o).password_confirmation.isShow&&!f(),"error-text":s(o).password_confirmation.value,onVisible:e[33]||(e[33]=l=>s(o).password_confirmation.isShow=!1)},null,8,["dialog-visible","error-text"])):m("",!0)])}}},us=ae(Ge,[["__scopeId","data-v-d7c03b03"]]);export{us as default};
